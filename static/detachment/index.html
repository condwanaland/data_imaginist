<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
  </head>
  <body style="margin:0;padding:0;overflow:hidden">
    <div><canvas></canvas></div>
    <script>let v,e,t,r,f,o,w,i,x,n,g,p,a=Math.round,c=Math.pow,d=(v,e,t)=>v.getUniformLocation(e,t),l=(v,e)=>v.bindTexture(3553,e),s=(v,e,t)=>v.texParameteri(3553,e,t),y=(v,e,t)=>{let r=v.createShader(t);return v.shaderSource(r,e),v.compileShader(r),r},u=(v,e,t,r,f)=>{v.useProgram(e);let o=d(v,e,"u_y");v.uniform1f(o,t%1e6);let w=d(v,e,"u_x");if(v.uniform1f(w,t%100003),r){let t=d(v,e,"u_tex");v.uniform1i(t,0),v.activeTexture(33984),l(v,r)}if(f){let t=d(v,e,"u_gr");v.uniform1i(t,1),v.activeTexture(33985),l(v,f)}v.drawArrays(4,0,6)},m=v=>{let e=v.createTexture();return l(v,e),s(v,10242,33071),s(v,10243,33071),s(v,10241,9729),s(v,10240,9729),e},b=(v,e)=>v.slice(e,e+3),$=new URLSearchParams(window.location.search),h=!!$.get("autorotate"),_=!!$.get("fast"),q=v=>v.toFixed(9),A="#version 300 es\n#define ss smoothstep\n#define vv vec2\n#define vw vec3\n#define ww vec4\n#define f float\n#define le length\n#define re return\nprecision highp float;",z=v=>`${v} vv v_t;${v} vv v_l;${v} f w1s;${v} f w1d;${v} f c1d;${v} vv c2p;${v} f t1s;${v} mat2 t1r;${v} vv c3p;${v} f c3s;${v} vv c4p;${v} f c4s;${v} vv c5p;${v} f c5s;${v} vv c6p;${v} f c6s;uniform f u_y;uniform f u_x;`,P=A+z("in")+"out ww v_c;",T=_||/Android|iPhone/i.test(navigator.userAgent)?1:4,D="f sn(vv x,vv p,f a,out vv g){vv uv=vv(x.x+x.y*0.5,x.y);vv i0=floor(uv),f0=fract(uv);f cmp=step(f0.y,f0.x);vv o1=vv(cmp,1.0-cmp);vv i1=i0+o1,i2=i0+1.0;vv v0=vv(i0.x-i0.y*0.5,i0.y);vv v1=vv(v0.x+o1.x-o1.y*0.5,v0.y+o1.y);vv v2=vv(v0.x+0.5,v0.y+1.0);vv x0=x-v0,x1=x-v1,x2=x-v2;vw iu,iv,xw,yw;if(any(greaterThan(p,vv(0.0)))){xw=vw(v0.x,v1.x,v2.x);yw=vw(v0.y,v1.y,v2.y);if(p.x>0.0)xw=mod(vw(v0.x,v1.x,v2.x),p.x);if(p.y>0.0)yw=mod(vw(v0.y,v1.y,v2.y),p.y);iu=floor(xw+0.5*yw+0.5);iv=floor(yw+0.5);}else{iu=vw(i0.x,i1.x,i2.x);iv=vw(i0.y,i1.y,i2.y);}vw h=mod(iu,289.0);h=mod((h*51.0+2.0)*h+iv,289.0);h=mod((h*34.0+10.0)*h,289.0);vw psi=h*0.07482+a;vw gx=cos(psi);vw gy=sin(psi);vv g0=vv(gx.x,gy.x);vv g1=vv(gx.y,gy.y);vv g2=vv(gx.z,gy.z);vw w=max(0.8-vw(dot(x0,x0),dot(x1,x1),dot(x2,x2)),0.0);vw w2=w*w;vw w4=w2*w2;vw gdx=vw(dot(g0,x0),dot(g1,x1),dot(g2,x2));f n=dot(w4,gdx);vw w3=w2*w;vw dw=-8.0*w3*gdx;vv dn0=w4.x*g0+dw.x*x0;vv dn1=w4.y*g1+dw.y*x1;vv dn2=w4.z*g2+dw.z*x2;g=10.9*(dn0+dn1+dn2);re 10.9*n;}",F=v=>`f f${v}(vv p,f a,vv pe,out vv g){f v=0.0;g=vv(0.0,0.0);vv gr;f m;`+(v=>Array(v).fill(0).map(((v,e)=>`m=${q(c(2,e))};v+=sn(p*${q(c(2,e))},pe,a,gr)/m;g+=gr/m;`)).join(""))(v)+"re v;}",E=[244,241,222,111,45,118,129,178,154,196,76,43,237,175,184,238,127,58,153,182,234,255,221,128,152,185,131,53,67,135].map((v=>q(v/255))),S=`vw get_col(int col){vw cols[10]=vw[](vw(${b(E,0)}),vw(${b(E,3)}),vw(${b(E,6)}),vw(${b(E,9)}),vw(${b(E,12)}),vw(${b(E,15)}),vw(${b(E,18)}),vw(${b(E,21)}),vw(${b(E,24)}),vw(${b(E,27)}));re cols[col];}`,k="f smin(f a,f b,f k){f h=max(k-abs(a-b),0.0)/k;re min(a, b)-h*h*k*(1.0/4.0);}",L=(v,e)=>`td=cir(p+dp,c${v}p,${q(e)});if(td<=0.0){d=smin(d,abs(td*2.0)+0.15*c${v}s,0.05);}`,B=(v,e)=>`if(td<=0.0){col=uc(col,${v});d=smin(d*2.0,abs(td*${q(e)}),0.05);`+(1==v?"t_off=true;":"")+"}",N=(v,e,t)=>P+D+F(4)+F(2)+F(1)+"f th=0.33333333;vw rtl(vw c){vw x=pow(vw(0.4122214708,0.2119034982,0.0883024619)*c.rrr+vw(0.5363325363,0.6806995451,0.2817188376)*c.ggg+vw(0.0514459929,0.1073969566,0.6299787005)*c.bbb,vw(th,th,th));re vw(0.2104542553,1.9779984951,0.0259040371)*x.rrr+vw(0.7936177850,-2.4285922050,0.7827717662)*x.ggg+vw(-0.0040720468,0.4505937099,-0.8086757660)*x.bbb;}vw ltr(vw c){vw x=c.rrr+vw(0.3963377774,-0.1055613458,-0.0894841775)*c.ggg+vw(0.2158037573,-0.0638541728,-1.2914855480)*c.bbb;x=x*x*x;re vw(4.0767416621,-1.2684380046,-0.0041960863)*x.rrr+vw(-3.3077115913,2.6097574011,-0.7034186147)*x.ggg+vw(0.2309699292,-0.3413193965,1.7076147010)*x.bbb;}f cir(vv p,vv l,f r){re le(p-l)-r;}f sq(vv p,vv l,vv b){vv d=abs(p-l)-b;re le(max(d,0.0))+min(max(d.x,d.y),0.0);}f tri(vv p,vv p0,vv p1,vv p2){vv e0=p1-p0,e1=p2-p1,e2=p0-p2;vv v0=p-p0,v1=p-p1,v2=p-p2;vv pq0=v0-e0*clamp(dot(v0,e0)/dot(e0,e0),0.0,1.0);vv pq1=v1-e1*clamp(dot(v1,e1)/dot(e1,e1),0.0,1.0);vv pq2=v2-e2*clamp(dot(v2,e2)/dot(e2,e2),0.0,1.0);f s=sign(e0.x*e2.y-e0.y*e2.x);vv d=min(min(vv(dot(pq0,pq0),s*(v0.x*e0.y-v0.y*e0.x)),vv(dot(pq1,pq1),s*(v1.x*e1.y-v1.y*e1.x))),vv(dot(pq2,pq2),s*(v2.x*e2.y-v2.y*e2.x)));re -sqrt(d.x)*sign(d.y);}int uc(int cur,int new){int lu[100]=int[](0,1,2,3,4,5,6,7,8,9,1,0,3,7,6,8,9,2,3,4,2,5,0,6,7,8,9,2,3,4,3,5,6,0,0,9,4,2,3,7,4,5,6,7,0,8,9,2,3,4,5,1,6,2,4,0,4,8,9,7,6,5,6,7,8,9,2,0,3,4,7,5,6,7,8,8,9,3,0,4,8,5,1,7,6,2,3,4,0,9,8,5,1,7,6,2,3,4,0,9);re lu[cur*10+new];}"+S+k+"uniform sampler2D u_tex;uniform sampler2D u_gr;void main(){ww fc=ww(0.0,0.0,0.0,1.0);ww xof=ww(1.0,3.0,-1.0,-3.0)/8.0;ww yof=ww(xof.yzw,xof.x);vv g;"+`for(int i=0;i<${T};i++){`+`vv p=(v_l+vv(xof[i],yof[i]))/${q(v)};`+`vv tof=vv(xof[i],yof[i])/vv(${q(e)},${q(t)});ww te=texture(u_tex,v_t+tof);vv dp=te.rg;int col=0;f d=1e3;f td=0.0;vv p2=(p-vv(0.5,0.75+2.0*w1d))/w1s;f n=f2((vv(p2.x,u_y*1e-4)+dp/w1s),0.0,vv(0.0,1e2),g);if(p2.y>n*0.25){col=uc(col,9);}if(mod(pow(abs(n*0.25-p2.y)+0.35-0.75*w1d,4.0)*20.0,1.0)>0.9&&abs(n*0.25-p2.y)<0.35+0.75*w1d){col=col==0?9:0;}bool t_off=false;td=sq(p+dp,vv(0.5,0.75),vv(0.1,0.6));`+B(1,1.75)+"n=f2(p*10.0-u_y*0.01,0.0,vv(1e4,1e4),g);td=cir(p+dp+g*0.01*c1d,vv(0.275,0.275),0.25);"+B(2,1)+"td=cir(p+dp,c2p,0.09);"+B(3,2)+"td=tri(t1r*(p-vv(0.7667,1.2))+t1r*dp,vv(-0.2167,0.0),vv(0.1833,-0.2),vv(0.03333,0.2));"+B(4,1.75)+L(3,1)+L(4,.75)+L(5,1.5)+L(6,1.3)+"vw fcol=rtl(get_col(col));fcol.r+=pow(te.b,3.0)*0.03;f s=0.0;f fd=1.0-pow(1.0-clamp(d,0.0,0.16)*6.25,2.0);vv vt=v_t+tof;vt.x=col<5?vt.x:1.0-vt.x;vt.y=col>2&&col<8?vt.y:1.0-vt.y;ww gr=texture(u_gr,vt);if(t_off){gr.r=f4(p*3e2+f(col)*1e2+vv(0.0,u_y),0.0,vv(1e6,1e6),g);gr.g=f4(p*3e2+f(col)*3e2+vv(0.0,u_y*0.5),0.0,vv(5e5,5e5),g);gr.b=f4(p*3e2-f(col)*1e2+vv(0.0,u_y*0.25),0.0,vv(25e4,25e4),g);gr=(gr+1.9)/3.8;}f l=1.0-ss(gr.r-0.15,gr.r,fd-0.3);s=max(l*0.1,s);l=1.0-ss(gr.g-0.15,gr.g,fd-0.05);s=max(l*0.2,s);l=1.0-ss(gr.b-0.15,gr.b,fd+0.2);s=max(l*0.4,s);fcol.r-=s;"+`fc.rgb+=fcol/${q(T)};}fc.rgb=ltr(fc.rgb);v_c=fc;}`,C=v=>e=>P+D+F(4)+F(2)+k+"void main(){ww fc=ww(0.0,0.0,0.0,1.0);ww xof=ww(1.0,3.0,-1.0,-3.0)/8.0;ww yof=ww(xof.yzw,xof.x);vv g;for(int i=0;i<4;i++){"+`vv p=(v_l+vv(xof[i],yof[i]))/${q(e)};`+(v?"f n=f4(p*3e2,0.0,vv(1e6,1e6),g);fc.r+=(n+1.9)/3.8;n=f4(p*3e2,0.0,vv(5e5,5e5),g);fc.g+=(n+1.9)/3.8;n=f4(p*3e2,0.0,vv(25e4,25e4),g);fc.b+=(n+1.9)/3.8;":"f n=f2(p*2e2,0.0,vv(0.0,0.0),g);fc.rg+=g*2e-4;n=f4(p*vv(12e1,3e2),0.0,vv(0.0,0.0),g);vw N=normalize(vw(g,1.0));vw L=normalize(vw(0.0,0.75,1.0));fc.b+=dot(N,L);")+"}fc/=4.0;v_c=fc;}",M=(v,e)=>`c${v}s=ss(0.0,0.25,f1(vv(x+${v}e0,y),0.0,pe,g));c${v}p=${q(e)}*g/le(g)+vv(0.5,0.75);`,R=(v,e,t,r)=>A+D+F(1)+"in vv a_p;"+z("out")+"void main(){gl_Position=ww(a_p*2.0-1.0,0,1);v_t=a_p;"+`v_l=a_p*vv(${q(v)},${q(e)})-vv(${q(t)},${q(r)});vv g;vv pe=vv((1e5+3.0)/1e4,1e2);f y=u_y/1e4;f x=u_x/1e4;c1d=f1(vv(x,y)*1e1,0.0,pe*1e1,g);c1d=ss(0.0,1.0,c1d);c2p=vv(f1(vv(x+1e0,y),0.0,pe,g),f1(vv(x+9e0,y),0.0,pe,g));c2p=pow(abs(c2p),vv(0.75,1.0))*sign(c2p)*vv(0.4,0.65)+vv(0.5,0.75);t1s=1.0/(f1(vv(x+7e0,y),0.0,pe,g)*0.5+2.5);g/=le(g);t1r=mat2(g.x,-g.y,g.y,g.x)*mat2(t1s,0.0,0.0,t1s);w1d=f1(vv(x+2e0,y),0.0,pe,g);w1s=pow(ss(-1.0,0.0,w1d),2.0)*4.0+1.0;w1d=ss(0.0,1.0,w1d);`+M(3,.75)+M(4,.75)+M(5,1.2)+M(6,1.5)+"}",U=window,j=[],H=[],I=document,V=v=>{g.bindFramebuffer(36160,v),g.viewport(0,0,e,t),g.clearColor(0,0,0,1),g.clear(16384)},W=()=>{v=U.devicePixelRatio,e=U.innerWidth*v,t=U.innerHeight*v;let c=n.parentElement;h&&e>t?([e,t]=[t,e],c.style.transform="rotate(90deg)"):c.style.transform="",r=e/t,f=2/3,o=r>f,w=o?t:e,i=a(w*(o?f:1)),x=a(w/(o?1:f)),n.width=e,n.height=t,n.style.width=e/v+"px",n.style.height=t/v+"px",g.getExtension("EXT_color_buffer_float"),j.forEach((v=>g.deleteTexture(v))),j.length=0,H.forEach((v=>g.deleteFramebuffer(v))),H.length=0;for(var d=0;2>d;d++){let v=m(g);j.push(v),g.texImage2D(3553,0,34842,e,t,0,6408,5126,null);let r=g.createFramebuffer();H.push(r),g.bindFramebuffer(36160,r),g.framebufferTexture2D(36160,36064,3553,v,0)}V(H[0]),X(C(!1)),u(g,p,0),V(H[1]),X(C(!0)),u(g,p,0),V(null)},X=v=>{let r=R(e,t,(e-i)/2,(t-x)/2),f=v(i,e,t);p=((v,e,t)=>{let r=v.createProgram();v.attachShader(r,y(v,e,35633)),v.attachShader(r,y(v,t,35632)),v.linkProgram(r);let f=v.getAttribLocation(r,"a_p"),o=v.createBuffer();return v.bindBuffer(34962,o),v.bufferData(34962,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),35044),v.enableVertexAttribArray(f),v.vertexAttribPointer(f,2,5126,!1,0,0),r})(g,r,f)},G=v=>requestAnimationFrame(v);U.onload=()=>{n=I.getElementsByTagName("canvas")[0],g=n.getContext("webgl2",{preserveDrawingBuffer:!0}),W(),X(N);let v=()=>{u(g,p,Date.now()/1e3,j[0],j[1]),G(v)};G(v)},U.onresize=()=>{W(),X(N)};</script>
  </body>
</html>
