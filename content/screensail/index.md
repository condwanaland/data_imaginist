---
title: "Screens Banners"
description: "Generate Screens at custom aspect ratios"
date: '2022-01-31'
large_thumb: yes
img:
  thumb: assets/images/screens/header.jpg
editor_options: 
  markdown: 
    wrap: 80
---

<script>
function render_screen(tokenData, asp) {
let e,t,r,l,n=Math.PI,o=Math.round,a=Math.sin,i=Math.cos,u=Math.floor,x=Math.sqrt,f=Math.log,c=Math.exp,s=Math.pow,p=Math.min,v=Math.max,y=(e,t=0,r=1)=>v(p(e,r),t),m=Math.sign,h=Math.abs,d=(e,t=0)=>Array(e).fill(0).map(((e,r)=>r+t)),g=(e,t)=>Array(t).fill(e),b=e=>e.length,_=(()=>{let e=0;return{s:t=>e=2*(1+u(t))*z,g:()=>e}})(),w=window.location.search,$=new URLSearchParams(w),z=$.get("grid");z=z?parseInt(z):1,$.get("pos"),$.get("width"),e=Uint32Array.from([0,1,t=r=2,3].map((e=>parseInt(tokenData.hash.substr(8*e+2,8),16)))),l=()=>(r=e[3],e[3]=e[2],e[2]=e[1],e[1]=t=e[0],r^=r<<11,e[0]^=r^r>>>8^t>>>19,e[0]/4294967296);let k=(e=0,t=1)=>e+(t-e)*l(),C=(e,t)=>{let r,l,n,o,a=[],i=[],u=0,x=[...t];for(;u++<b(t);)i.push(u-1);for(;0<e--;)r=x.reduce(((e,t,r)=>[...e,t+(e[r-1]||0)]),[]),o=b(r)-1,l=k(0,r[o]),n=r.findIndex((e=>e>l)),n=0>n?o:n,a.push(i.splice(n,1)[0]),x.splice(n,1);return a},M=()=>{let e=k(-1),t=k(-1),r=e*e+t*t;return 0==r||1<=r?M():e*x(-2*f(r)/r)},P=(e=0)=>s(y(M()/7+.5),c(e)),S=e=>{for(let t,r=b(e)-1;0<r;r--)t=u(k()*(r+1)),[e[r],e[t]]=[e[t],e[r]];return e},A=C(1,[5,15,15,15,5,5,6,7,5,7,5,4,1,5])[0],T=C(1,[9,60,30,1])[0],D=.9>k(),E=C(1,[85,10,5])[0],F=C(1,[5,70,23,2])[0],I=.9>k(),B=C(1,[50,30,15,5])[0],L=C(5,[30,30,20,10,10]),U=C(1,[5,5,30,30,20,10])[0],W=.9>k(),H=.1>k()&&0!==U&&W,R=C(1,[60,24,2,14])[0];1>U&&3==R&&(R=0),12==A&&1==B&&A--,1==L[0]&&(0===U||2==U)&&2==R&&R++,1>U&&1==L[0]&&1==B&&B++;let q=[[[243,240,197],[20,169,155],[238,33,41],[26,22,23]],[[251,244,236],[241,172,52],[134,170,155],[135,164,191],[225,120,67],[29,29,29]],[[210,203,190],[243,158,26],[86,145,175],[240,87,47],[43,39,40]],[[236,221,190],[252,172,11],[194,51,45],[3,104,189],[15,15,15]],[[229,216,188],[172,77,60],[96,132,141],[55,55,55]],[[253,235,223],[180,210,199],[253,154,88],[37,35,36]],[[241,221,194],[229,79,37],[1,124,136],[3,2,2]],[[255,239,216],[244,181,176],[234,161,155],[211,123,114],[54,123,126],[21,19,16]],[[235,236,230],[205,217,205],[117,210,212],[202,139,140],[61,143,146],[111,127,122],[49,62,63]],[[207,219,232],[202,162,60],[104,145,176],[89,154,166],[31,31,31]],[[241,232,184],[212,201,80],[160,183,112],[145,134,163],[0,5,6]],[[244,248,251],[215,217,220],[152,147,145],[20,21,19]],[[244,248,251],[215,217,220],[152,147,145],[194,2,34],[20,21,19]],[[184,175,191],[219,163,161],[200,127,33],[101,151,122],[94,112,176],[27,25,31]]][A].map((e=>e.map((e=>e/255)))),G=C(1,g(1,b(q)-1))[0]+1,J=e=>e.toFixed(9),N=/\bHeadlessChrome/.test(navigator.userAgent)?1:4,V=0===F?.2:1==F?1:2,j=2*k()*n,K=J(i(j)),O=J(a(j)),Q=3==F?`mat2(0.01*${K},-1.0*${O},0.01*${O},${K})`:"mat2(1.0,0.0,0.0,1.0)",X=e=>`float fbm${e}(vec2 pos){float v=0.0;float m=1.0;for(int i=0;i<${e};i++){v+=sn(pos)*m;pos*=2.0;m*=0.5;}return v;}`,Y=e=>`uniform sampler2D ${e};`,Z="precision highp float;varying vec2 v_t;varying vec2 v_l;";simplex="vec3 mo(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec2 mo(vec2 x){return x-floor(x*(1.0/289.0))*289.0;}vec3 pe(vec3 x){return mo(((x*34.0)+10.0)*x);}float sn(vec2 v){const vec4 C=vec4(0.211324865405187,0.366025403784439,-0.577350269189626,0.024390243902439);vec2 i=floor(v+dot(v,C.yy));vec2 x0=v-i+dot(i,C.xx);vec2 i1=(x0.x>x0.y)?vec2(1.0,0.0):vec2(0.0,1.0);vec4 x12=x0.xyxy+C.xxzz;x12.xy-=i1;i=mo(i);vec3 p=pe(pe(i.y+vec3(0.0,i1.y,1.0))+i.x+vec3(0.0,i1.x,1.0));vec3 m=max(0.5-vec3(dot(x0,x0),dot(x12.xy,x12.xy),dot(x12.zw,x12.zw)),0.0);m=m*m;m=m*m;vec3 x=2.0*fract(p*C.www)-1.0;vec3 h=abs(x)-0.5;vec3 ox=floor(x+0.5);vec3 a0=x-ox;m*=1.79284291400159-0.85373472095314*(a0*a0+h*h);vec3 g;g.x=a0.x*x0.x+h.x*x0.y;g.yz=a0.yz*x12.xz+h.yz*x12.yw;return 130.0*dot(m, g);}"+X(8)+X(6)+X(1);let ee=Z+Y("u_t")+"uniform vec2 u_p;void main(){vec2 l=v_t*(1.0-u_p)+0.5*u_p;gl_FragColor=texture2D(u_t,l);}",te=(e,t,r)=>e.getUniformLocation(t,r),re=(e,t)=>e.bindTexture(3553,t),le=(e,t,r)=>e.texParameteri(3553,t,r),ne=(e,t,r)=>{let l=e.createShader(r);return e.shaderSource(l,t),e.compileShader(l),l},oe=(e,t,r)=>{let l=e.createProgram();e.attachShader(l,ne(e,t,35633)),e.attachShader(l,ne(e,r,35632)),e.linkProgram(l);let n=e.getAttribLocation(l,"a_p"),o=e.createBuffer();return e.bindBuffer(34962,o),e.bufferData(34962,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),35044),e.enableVertexAttribArray(n),e.vertexAttribPointer(n,2,5126,!1,0,0),l},ae=e=>{let t=e.createTexture();return re(e,t),le(e,10242,33071),le(e,10243,33071),le(e,10241,9729),le(e,10240,9729),t},ie=(e,t)=>{if(e.i==t.i)return null;if(v(e.y,e.y1)<p(t.y,t.y1)||v(t.y,t.y1)<p(e.y,e.y1))return null;let r=(e.x-e.x1)*(t.y-t.y1)-(e.y-e.y1)*(t.x-t.x1);if(0==r)return null;let l=((e.x-t.x)*(t.y-t.y1)-(e.y-t.y)*(t.x-t.x1))/r;if(0>l||1<l)return null;let n=((e.x-t.x)*(e.y-e.y1)-(e.y-t.y)*(e.x-e.x1))/r;return 0>n||1<n?null:[e.x+l*(e.x1-e.x),e.y+l*(e.y1-e.y)]},ue=(e,t)=>{let r=0,l=!1,n=(e.x-t.x)/(t.x1-t.x),o=t.y+n*(t.y1-t.y);return o>e.y&&r++,l=o==e.y,n=(e.x1-t.x)/(t.x1-t.x),o=t.y+n*(t.y1-t.y),o>e.y1&&r++,1==r&&(l||o==e.y1)&&r++,r},xe=(e,t)=>{let r=((e,t)=>{if(v(e.y,e.y1)<=p(t.y,t.y1))return 1;if(v(t.y,t.y1)<=p(e.y,e.y1))return-1;let r=ue(e,t);return 2==r?1:0===r?-1:(r=ue(t,e),2==r?-1:0===r?1:0)})(e.s,t);1==r?null===e.back?e.back={s:t,front:null,back:null}:xe(e.back,t):null===e.front?e.front={s:t,front:null,back:null}:xe(e.front,t)},fe=e=>null===e?[]:[...fe(e.back),e.s,...fe(e.front)],ce=(e,t,r,l,n,o)=>{let a={x:e,y:t,x1:r,y1:l,l:n,n:null,i:o,z:0,z1:0};return null!==n&&(n.n=a),a},se=[100,1,50,50,30,30][U],pe=(e=!1)=>{let t=100*k(),r=141*k();return 0<U&&!e&&(t=2*t-50,r=2*r-20),[t,r]},ve=(e,t,r,l)=>(e-r)*(e-r)+(t-l)*(t-l),ye=(e,t,r,l,n,o)=>{let a=e-r,i=t-l,u=x(a*a+i*i),f=-i/u,c=a/u;return[e+n*f-o*c,t+o*f+n*c]},me=(e,t)=>{for(let r=0;r<b(t);r++)if(.5>ve(t[r].x,t[r].y,e.x,e.y))return!0;return!1},he=(e,t,r,l,n)=>{if(0===e)return n[t];let o=(r-l[t])/(l[t+4-e]-l[t]),a=he(e-1,t,r,l,n).map((e=>e*o));return he(e-1,t-1,r,l,n).map(((e,t)=>e*(1-o)+a[t]))},de=e=>[0,0,0,...d(e-2).map((t=>t/(e-3))),1,1,1],ge=(e,t,r)=>{if(1==e)return r[b(r)-1];let l=0;for(;l<b(t)-1&&!(e>=t[l]&&e<t[l+1]);l++);return he(3,l,e,t,r)},be=(e,t,r,l,n)=>{let o,a,i=t,u=r,x=0;for(;1>x&&1>=(e+=.001);)[i,u]=ge(e,l,n),o=t-i,a=r-u,x=o*o+a*a;return[i,u,e]},_e=[(e,t)=>{let[r,l]=pe(),o=d(500,1),x=.1>k();for(let f=0;f<se;f++){let f=u((x?s(k(),2):k())*b(o)),c=o.splice(f,1)[0],p=v(1,2*P(-1)*n*c),y=2*k()*n,m=i(y)*c+r,h=a(y)*c+l,d=0,g=null;for(;d<p;)y+=1/c,g=ce(m,h,m=i(y)*c+r,h=a(y)*c+l,g,t),e.push(g),d++}return e},(e,t)=>{let r=2*k()*n,l=0===U||2==U;h(i(r))<(l?0<t?.1:.6:.06)&&(r+=n/2);let o=i(r),x=a(r),f=141+400*k(),c=[0,...[].concat.apply([],d(150,1).map((e=>[-e,e])))],[p,y]=pe(l),m=.1>k();for(let r=0;r<se;r++){let r=u((m?s(k(),2):k())*b(c)),l=c.splice(r,1)[0],n=v(1,100*P(-1)),a=k()*(f-n)-f/2,i=p-x*l+o*a,h=y+o*l+x*a,d=0,g=null;for(;d<n;)g=ce(i,h,i+=o,h+=x,g,t),e.push(g),d++}return e},(e,t)=>{let[r,l]=pe(),o=k()*n/2,x=i(o),f=a(o),c=d(250,1.5).map((e=>2*e)),p=.1>k();for(let n=0;n<se;n++){let n=u((p?s(k(),2):k())*b(c)),o=c.splice(n,1)[0],a=v(1,P(-1)*o*8),i=4*k(),y=1>=i?x:2>=i?-f:3>=i?-x:f,m=1>=i?f:2>=i?x:3>=i?-f:-x,h=i%1,d=r+o*(m-y)+2*o*h*y,g=l+o*(-y-m)+2*o*h*m,_=0,w=null;for(;_<a;)w=ce(d,g,d+=y,g+=m,w,t),e.push(w),h+=1/(2*o),1<=h&&(--h,[y,m]=[-m,y]),_++}return e},(e,t)=>{let r=100*k(),l=141*k(),o=k(.15,.85)*n,u=i(o),x=a(o),f=500*P(-1),c=[];for(let e=0;e<se;e++){let e,o,s=2*k()*n,p=P()*f,y=v(1,f*P(-1)),m=20*P(),h=r+i(s)*p,d=l+a(s)*p,g=0,b=null,_=[];for(;g<y&&ve(h,d,r,l)>m&&([e,o]=ye(h,d,r,l,u,x),b=ce(h,d,e,o,b,t),!me(b,c));)_.push(b),h=e,d=o,g++;c.push(..._)}return e.push(...c),e},(e,t)=>{let r=.5>k()?4:5,l=141+200*k(),o=100*k(),x=141*k(),f=[-l/2,...d(r-2).map((e=>l*(e+1+k()-.5)/(r-1)-l/2)),l/2].sort(((e,t)=>e>t)),c=2*k()*n,s=i(c),p=a(c),v=f.map(((e,t)=>[.5+k()/4,P(t%2*2-1)-.5])).map((e=>[200*e[1]-600*e[0]/2,600*e[0]])),y=f.map(((e,t)=>[o+v[t][0]*s-e*p,x+v[t][0]*p+e*s])),m=d(100).map((e=>e/99)),h=[];for(let e=0;e<se;e++){let e,r,l,n,o=u(k()*(b(m)-1e-9)),a=m.splice(o,1)[0],i=P(-1)/2,x=k()*(1-i),f=i+x,c=y.map(((e,t)=>[e[0]+s*a*v[t][1],e[1]+p*a*v[t][1]])),d=de(b(c)),g=null,_=[];for([e,l]=ge(x,d,c);x<f&&([r,n,x]=be(x,e,l,d,c),g=ce(e,l,e=r,l=n,g,t),!me(g,h));)_.push(g);h.push(..._)}return e.push(...h),e}],we=[[0],g(0,50),[0,0],[0,1],[0,0,1],[0,1,2]][U].map((e=>L[e])),$e=(e,t,r=!1)=>{if(null!==e){let l=r?e.l:e.n;e.l=e.n=null,0===t?null!==l&&(r?l.n=null:l.l=null):$e(l,t-1,r)}},ze=(e,t=1)=>null===e.n?t:ze(e.n,t+1),ke=e=>{let t=m(e.x1-e.x);e.lb=null===e.l||t!=m(e.l.x1-e.l.x),e.nb=null===e.n||t!=m(e.n.x1-e.n.x)},Ce=(e,t,r,l,n)=>{if(!B)return C(2,g(1,r));if(3==B){let e=C(1,g(1,r-1))[0],t=[e,e+1];return.5>k()?t:t.reverse()}return S([0,1==B?n[1==U?0:e%b(n)]:l[u(y(t,0,140.9)/141*b(l))],r-1])},Me=g(!1,b(q));Me[G]=!0;let Pe,Se,Ae,Te,De,Ee=e=>`rgb(${255*e}, ${255*e}, ${255*e})`,Fe=C(1,g(1,b(q)-1))[0]+1,Ie=(e,t,r,l,n,o,a)=>(t-=a/2,[((e-=o/2)*r[0]-t*r[1]+r[2]+o/2)*l+n,(e*r[1]+t*r[0]+r[3]+a/2)*l+n]),Be=e=>e.beginPath(),Le=e=>e.closePath(),Ue=(e,t,r)=>e.moveTo(t,r),We=(e,t,r)=>e.lineTo(t,r),He=window,Re=He.innerWidth,qe=He.innerHeight,Ge=Re/qe,Je=Ge>asp,Ne=He.devicePixelRatio,Ve=(Je?qe:Re)*Ne,je=o(Ve*(Je?asp:1)),Ke=o(Ve/(Je?1:asp)),Oe=Ve/(100*(Ge<asp?1:1/asp))/(x(14100/asp)*asp/100),Qe=[],Xe=[],Ye=document,Ze=Ye.getElementById("drawing_board");Ze.getElementsByTagName("canvas")[0].remove(),Pe=Ye.createElement("canvas"),Se=Ye.createElement("canvas"),Te=Pe.getContext("webgl",{preserveDrawingBuffer:!0}),Se.width=Pe.width=je,Se.height=Pe.height=Ke,Pe.style.width=je/Ne+"px",Pe.style.height=Ke/Ne+"px",Pe.style.maxWidth="100%",Pe.style.maxHeight="98vh",Ae=Se.getContext("2d");for(var et=0;2>et;et++){let e=ae(Te);Qe.push(e),Te.texImage2D(3553,0,6408,je,Ke,0,6408,5121,null);let t=Te.createFramebuffer();Xe.push(t),Te.bindFramebuffer(36160,t),Te.framebufferTexture2D(36160,36064,3553,e,0)}Ze.prepend(Pe);let tt=(()=>{let e=[];for(let t=0;t<b(we);t++)_e[we[t]](e,t);return e=(e=>{let t=H?C(1,g(1,b(we)))[0]:-1,r=(e=>{e.sort(((e,t)=>p(e.x,e.x1)<p(t.x,t.x1)?-1:p(e.x,e.x1)>p(t.x,t.x1)?1:0));let t,r,l,n,o,a,i=[];for(t=0;t<b(e)-1;t++)for(l=e[t],o=v(l.x,l.x1),r=t+1;r<b(e)&&(n=e[r],!(o<p(n.x,n.x1)));r++)(a=ie(l,n))&&i.push({s1:l,s2:n,p:a});return i})(e),l=[];return r.forEach((e=>{if(!W){let t={...e.s1};return t.n=e.s1.n,e.s1.n=t,e.s1.x1=t.x=e.p[0],void(e.s1.y1=t.y=e.p[1])}let r=e.s1.i==t?e.s2:e.s2.i==t||.5>k()?e.s1:e.s2;$e(r.n,5),$e(r.l,5,!0),r.n=r.l=null})),e.forEach((e=>{if(null===e.l&&null!==e.n&&5<ze(e))for(;null!==e;)l.push(e),e=e.n})),l})(e),e=(e=>fe((e=>{S(e);let t=b(e),r={s:e[0],front:null,back:null};for(let l=1;l<t;l++)xe(r,e[l]);return r})(e)))(e),((e,t)=>{let r,l,n=i(t),o=a(t);e.forEach((e=>{r=n*e.y-o*e.z,l=o*e.y+n*e.z,e.y=r,e.z=l,r=n*e.y1-o*e.z1,l=o*e.y1+n*e.z1,e.y1=r,e.z1=l}))})(e,-n/5),(e=>{let t=b(q),r=d(t-2,1),l=S(d(t-2,1));e.forEach((e=>{if(null===e.l){let n=ze(e),o=e,a=0,i=Ce(e.i,e.y,t,r,l),u=Ce(e.i,e.y,t,r,l);for(Me[i[0]]=Me[i[1]]=Me[u[0]]=Me[u[1]]=!0;null!==o;)o.p=a/n,o.p1=(a+1)/n,o.c1=i,o.c2=u,ke(o),o=o.n,a++}}))})(e),e})();Te.viewport(0,0,je,Ke),Te.clearColor(0,0,0,0),Te.clear(16384),De=ae(Te);let rt=((e,t,r,l,n,o)=>`attribute vec2 a_p;varying vec2 v_t;varying vec2 v_l;void main(){gl_Position=vec4(a_p*2.0-1.0,0,1);v_t=a_p;v_l=((a_p-0.5)*vec2(${J(je)},${J(o)})+0.5)*vec2(${J(r)},${J(l)})+vec2(${J(0)},${J(0)});}`)(0,0,je,Ke,0,Ke),lt=(e,t)=>{if(t!=b(q)){let r=((e,t,r,l)=>Z+Y("u_screen")+Y("u_bg")+simplex+"void main(){"+`vec4 col=vec4(${J(q[l][0])},${J(q[l][1])},${J(q[l][2])},1);`+(0===l?"gl_FragColor=col;":`vec4 fc=vec4(0.0,0.0,0.0,0.0);vec4 xof=vec4(1.0,3.0,-1.0,-3.0)/8.0;vec4 yof=vec4(xof.yzw,xof.x);for(int i=0;i<${N};i++){vec2 pof=vec2(xof[i],yof[i]);vec2 of=vec2(${J(e)},${J(t)});vec2 pos=(v_l+pof)/${J(r)};float tex=fbm8((${Q}*pos)*200.0*${J(V)}+of)+fbm8(pos+of)/4.0;tex=(tex+1.9)/3.8+0.075;`+(()=>{let e="";return I&&(e="float sp=fbm6(pos*10.0+of);\ntex=min(tex,1.0-smoothstep(1.2,1.3,sp));\ntex=max(tex,1.0-smoothstep(-1.25,-1.15,sp));"),e})()+"vec2 di=vec2(fbm1((pos+of)*75.0),fbm1((pos+vec2(0.0,1e4)+of)*75.0))/2500.0;"+`float sc=texture2D(u_screen,v_t+di+pof/vec2(${J(r)},${J(r*x(2))})).r;float g=smoothstep(tex-0.15,tex,sc);vec4 bg=texture2D(u_bg,v_t);`+`fc+=mix(col,bg,vec4(g,g,g,1))/${J(N)};}gl_FragColor=fc;`)+"}")(k(-1e4,1e4),k(-1e4,1e4),je,t);if(t){if(!Me[t])return void setTimeout((()=>lt(e,t+1)),1);((e,t,r,l,o,u)=>{let f=o/u,c=x(14100/f),s=c*f,p=_.g()/2;e.fillStyle=G==r?"black":"white",e.fillRect(0,0,o*p*2,u*p*2);let y,m,h,d,g,w,$,z,C=(e=>{let t=3==T&&e==Fe?2*n:.04,r=(2>T?0:k()-.5)*t,l=a(r),o=i(r),u=2>T?.5:3==T&&e==Fe?5:1,x=(1>T?0:k()-.5)*u,f=-.5*i(r)+.5*a(r)+.5+x,c=(1>T?0:k()-.5)*u;return[o,l,f,-.5*a(r)-.5*i(r)+.5+c]})(r);t.forEach((t=>{let n,o="white",a=t.x<t.x1?t.c1:t.c2,i=3==R&&0!=t.i?5+5*t.i:[200,30,10,200][R];[y,m]=Ie(t.x,t.y,C,l,p,s,c),[h,d]=Ie(t.x1,t.y1,C,l,p,s,c),[g,w]=Ie(t.x,0,C,l,p,s,c),[$,z]=Ie(t.x1,0,C,l,p,s,c),(r==a[0]||r==a[1])&&(r<v(a[0],a[1])?o="black":(o=e.createLinearGradient(g,w,$,z),n=r==a[1]?[t.p,t.p1]:[1-t.p,1-t.p1],o.addColorStop(0,Ee(n[0])),o.addColorStop(1,Ee(n[1])))),[g,w]=Ie(t.x,t.y-i,C,l,p,s,c),[$,z]=Ie(t.x1,t.y1-i,C,l,p,s,c),Be(e),Ue(e,y,m),We(e,h,d),We(e,$,z),We(e,g,w),Le(e),e.fillStyle=e.strokeStyle=o,e.lineWidth=.1*l,e.lineJoin="round",e.fill(),e.stroke(),(1==E&&r==b(q)-1||2==E&&r==v(a[0],a[1]))&&(Be(e),e.lineCap="round",e.strokeStyle="black",e.lineWidth=.25*l,Ue(e,y,m),We(e,h,d),Ue(e,g,w),We(e,$,z),t.lb&&(Ue(e,y,m),We(e,g,w)),t.nb&&(Ue(e,h,d),We(e,$,z)),e.stroke())}));let M=D?5:0;Be(e),Ue(e,-2*o,-2*u),We(e,-2*o,3*u),We(e,3*o,3*u),We(e,3*o,-2*u),Le(e),[y,m]=Ie(M,M,C,l,p,s,c),[h,d]=Ie(s-M,M,C,l,p,s,c),[g,w]=Ie(s-M,c-M,C,l,p,s,c),[$,z]=Ie(M,c-M,C,l,p,s,c),Ue(e,y,m),We(e,h,d),We(e,g,w),We(e,$,z),Le(e),e.fillStyle="white",e.fill("evenodd")})(Ae,e,t,Oe,je,Ke)}let l=oe(Te,rt,r);((e,t,r,l,n,o,a,i)=>{e.bindFramebuffer(36160,i),e.useProgram(t);var u=te(e,t,"u_r");e.uniform2f(u,r,l);let x=te(e,t,"u_screen"),f=te(e,t,"u_bg");e.uniform1i(x,0),e.uniform1i(f,1),e.activeTexture(33984),re(e,n),e.texImage2D(3553,0,6408,6408,5121,o),e.activeTexture(33985),re(e,a),e.drawArrays(4,0,6)})(Te,l,je,Ke,De,Se,Qe[0],Xe[1]),((e,t,r,l,n)=>{let o=oe(e,l,ee);e.bindFramebuffer(36160,null),e.useProgram(o);let a=te(e,o,"u_p");e.uniform2f(a,t,r);let i=te(e,o,"u_t");e.uniform1i(i,0),e.activeTexture(33984),re(e,n),e.drawArrays(4,0,6)})(Te,je,Ke,rt,Qe[1]),Qe.reverse(),Xe.reverse(),Te.readPixels(0,0,1,1,6408,5121,new Uint8Array(4)),setTimeout((()=>lt(e,t+1)),500)}};lt(tt,0);}
function generate() {
  let token = "255000" + ("000" + document.getElementById("token").value).slice(-3);
  let asp = parseFloat(document.getElementById("asp").value);
  let req = new XMLHttpRequest();
  req.open( "GET", "https://token.artblocks.io/" + token, false);
  req.send(null);
  let token_info = JSON.parse(req.responseText);
  document.getElementById("drawing_board").scrollIntoView({ behavior: 'smooth', block: 'center' });
  let tokenData = {hash: token_info.token_hash, tokenId: token_info.tokenID};
  render_screen(tokenData, asp);
}
</script>

<style>
a.button{
  display:inline-block;
  padding:0.3em 1.2em;
  margin:0 0.3em 0.3em 0;
  border-radius:2em;
  box-sizing: border-box;
  text-decoration:none;
  font-family:'Comfortaa', sans-serif;
  font-weight:300;
  color:#FFFFFF;
  background-color:#4A4645;
  text-align:center;
  transition: all 0.2s;
  cursor: pointer;
}
a.button:hover{
  background-color:#DA684B;
}
span.inputname, input{
  font-family: "Comfortaa", sans-serif;
  font-size: 12pt;
}
</style>

This is a small app that allow you to generate Screens at a custom aspect ratio
different from the default 0.7071 (`1/sqrt(2)`). This is mostly useful for 
creating banner images of your favourite Screens. Input the token # and the 
aspect ratio and press the generate button.

<span class="inputname">Token: </span><input type="number" id="token" name="token" min="0" max="999" value="0">
<span class="inputname" style="margin-left: 20px">Aspect ratio: </span><input type="number" id="asp" name="asp" min="0.1" max="10" value="0.7071">
<a id="generate" class="button" onclick="generate()" style="margin-left: 40px">Generate Screen</a>

<div id="drawing_board"><canvas></canvas></div>
