<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Screens</title>
    <style id="shake" type="text/css"></style>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.0.0/lib/p5.js"></script>
  </head>
  <body style="margin:0;padding:0">
    <div id="drawing_board" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);"><canvas></canvas></div>
    <script>
      function render_rapture(tokenData) {
        let y,x,t,e,i=Math.PI,s=2*Math.PI,r=Math.sin,l=Math.asin,a=Math.cos,n=Math.round,p=Math.floor,o=Math.sqrt,f=Math.cbrt;y=Uint32Array.from([0,1,x=t=2,3].map((y=>parseInt(tokenData.hash.substr(8*y+2,8),16)))),e=()=>(t=y[3],y[3]=y[2],y[2]=y[1],y[1]=x=y[0],t^=t<<11,y[0]^=t^t>>>8^x>>>19,y[0]/4294967296);let c=(y=0,x=1)=>y+(x-y)*e(),d=(y,x)=>p(c(y,x+1)),u=(y,x)=>{let t,e,i,h,s=[],r=[],l=0,a=[...x];for(;l++<x.length;)r.push(l-1);for(;0<y--;)t=a.reduce(((y,x,t)=>[...y,x+(y[t-1]||0)]),[]),h=t.length-1,e=c(0,t[h]),i=t.findIndex((y=>y>e)),i=0>i?h:i,s.push(r.splice(i,1)[0]),a.splice(i,1);return s},m=[d(0,1e9),d(0,1e9)],b=u(1,[35,5,25,10,15,10])[0],w=1!=b&&(5==b||.3>c()),v=c(),E=.1>v&&1!=b?.02:.9>v?.04:.08,k=w?1250:.1>v?750:.9>v?500:250,T=c(),S=.05>T?3:1,P=.95<T?3:1,M=1.414214,q=i;u(1,[7,30,20,10,3,20,10])[0];let $=c(),B=u(6,[2,3,3,3,1,2]),I=.7>c(),R=u(1,[30,40,5,10,15])[0],A=p(5*(1-(1-c())**.5)+2),W=u(7==A?6:A,[2,3,3,3,1,2]),_=u(1,[30,60,10])[0],C=.1>c(),D=C?2:u(1,[60,35,5])[0],H=.9>c(),j=.3>c();1==b&&(S=P=1),250!=k&&(3==S||3==P)&&(k=1e3),1!=R||I||0!=B[0]||B.push(B.shift());class L{constructor(y,x){this.x=y,this.y=x}d(y){let x=this.x-y.x,t=this.y-y.y;return o(x*x+t*t)}s(y){return this.x-=y.x,this.y-=y.y,this}a(y){return this.x+=y.x,this.y+=y.y,this}t(y,x){return this.x+=y,this.y+=x,this}m(y){return this.x*=y,this.y*=y,this}n(){return this.m(1/o(this.x**2+this.y**2))}cp(){return new L(this.x,this.y)}}deBoor=(y,x,t,e)=>{if(0==y)return e[x%e.length].cp();let i=(t-x)/(4-y);return deBoor(y-1,x-1,t,e).m(1-i).a(deBoor(y-1,x,t,e).m(i))};class N{constructor(y){this.h=!1,this.p=y,this.a=[]}o(y){return this.h=y,this}ap(y,x){return this.a.push(new L(y,x)),this}t(y=1,x=0,t=0){return this.a.forEach((e=>{e.x=e.x*y+x,e.y=e.y*y+t})),this}rot(y){let x=r(y),t=a(y);return this.a.forEach((y=>{let e=y.x*t-y.y*x,i=y.x*x+y.y*t;y.x=e,y.y=i})),this}ad(y){if(2>this.a.length)return;let x,t,e,i,h,s,r,l,a=[];for(r=0;r<this.a.length;r++)if(x=r==this.a.length-1?0:r+1,t=this.a[r],a.push(t),e=this.a[x],i=t.d(e),!(y>=i))for(h=ceil(i/y),s=e.cp().s(t).m(1/h),l=0;l<h-1;l++)t=t.cp().a(s),a.push(t);return this.a=a,this}rm(y){if(2>this.a.length)return;let x,t,e,i,h=[this.a[0]];for(i=1;i<this.a.length;i++)x=this.a[i],t=h[h.length-1],e=x.d(t),y<=e&&h.push(x);return this.a=h,this}bs(y){let x=this.a.length+3,t=3;for(y=y*(x-4)+3;t<x&&!(y>=t&&y<=t+1);)t++;return deBoor(3,t,y,this.a)}cp(){let y=new N(this.p);return y.a=this.a.map((y=>y.cp())),y.h=this.h,y}}let U=(y,x)=>new N(y,x),z=(y,x)=>{let t=new p5;return t.noiseSeed(y),t.noiseDetail(4,.5),(y,e)=>t.noise((y+5e5)*x,(e+5e5)*x)},F=2147483647,G=y=>1664525*y+1013904223&F,J=1/(F+1),K=(y,x)=>16777619*y+x&F,O=(y,x,t)=>{let e,i,h,s,r,l,a,n,o,f,c,d,g=p(y),u=p(x),m=y-g,b=1-m,w=x-u,v=1-w,E=[0,-1,1],k=1e9;for(m*=m,w*=w,b*=b,v*=v,o=0;3>o;o++)for(f=0;3>f;f++)if(!(1==o&&k<m||2==o&&k<b||1==f&&k<w||2==f&&k<v))for(r=g+E[o],l=u+E[f],a=r-y,n=l-x,e=G(K(r+t&F,l+t&F)),i=196662675>(T=e)?1:511322955>T?2:930869995>T?3:1350417036>T?4:1686054668>T?5:1909813089>T?6:2037675044>T?7:2101606022>T?8:9,c=0;c<i;++c)e=G(e),h=e*J+a,e=G(e),s=e*J+n,d=h*h+s*s,d<k&&(k=d);var T;return k},Q=y=>(x,t)=>{let e=.01,i=1,h=0,s=3;for(;s--;)h+=O(x*e,t*e,y)*i,e*=2,i*=.5;return h},V=(y,x,t,e,i)=>new L(-(e(y,x+i)-e(y,x-i))/(2*i),(t(y+i,x)-t(y-i,x))/(2*i)),X=(y,x=3,t=1/16)=>y<t?t*y/(y+x*(t-y)):(1-t)*(y-1)/(1-y-x*(t-y))+1;class Y{constructor(y,x,t){this.p=[],this.at=[...x],y.forEach((y=>this.p.push(this.rgb_ok(y)))),this.f=t,this.ps=new p5}ca(y,x=!1,t=!0){y=this.f?y**.5:((y,x=.01)=>y<x?0:(y-x)/(1-x))(y);let e,i,h=1;for(;h<this.at.length-1&&this.at[h]<=y;)h++;return i=(y-this.at[h-1])/(this.at[h]-this.at[h-1]),i=1>i?0<i?i:0:1,e=this.ok_rgb([this.ps.lerp(this.p[h-1][0],this.p[h][0],i),this.ps.lerp(this.p[h-1][1],this.p[h][1],i),this.ps.lerp(this.p[h-1][2],this.p[h][2],i)]),t?(e.push(x?1:(1-X(y))*(C&&!this.f?3*X(y,9,.2):1)),`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`):e}rgb_ok(y){let x=f(.4122214708*y[0]+.5363325363*y[1]+.0514459929*y[2]),t=f(.2119034982*y[0]+.6806995451*y[1]+.1073969566*y[2]),e=f(.0883024619*y[0]+.2817188376*y[1]+.6299787005*y[2]);return[.2104542553*x+.793617785*t-.0040720468*e,1.9779984951*x-2.428592205*t+.4505937099*e,.0259040371*x+.7827717662*t-.808675766*e]}ok_rgb(y){let x=(y[0]+.3963377774*y[1]+.2158037573*y[2])**3,t=(y[0]-.1055613458*y[1]-.0638541728*y[2])**3,e=(y[0]-.0894841775*y[1]-1.291485548*y[2])**3;return[4.0767416621*x-3.3077115913*t+.2309699292*e,-1.2684380046*x+2.6097574011*t-.3413193965*e,-.0041960863*x-.7034186147*t+1.707614701*e]}}let Z,yy,xy=(y,x,t=!1)=>new Y(y,x,t),ty=(y,x)=>{let t=U(y);return x.forEach((y=>t.ap(y.x,y.y))),t},ey=[{x:12.68,y:13.56},{x:17.24,y:12.92},{x:17.1032,y:12.4512},{x:16.9808,y:11.9728},{x:16.8728,y:11.4848},{x:16.7792,y:10.9872},{x:16.7,y:10.48},{x:16.6352,y:9.9632},{x:16.5848,y:9.4368},{x:16.5488,y:8.9008},{x:16.5272,y:8.3552},{x:16.52,y:7.8},{x:16.52,y:7.8},{x:16.564,y:6.4488},{x:16.696,y:5.1792},{x:16.916,y:3.9912},{x:17.224,y:2.8848},{x:17.62,y:1.86},{x:18.104,y:.9168},{x:18.676,y:.0552},{x:19.336,y:-.7248},{x:20.084,y:-1.4232},{x:20.92,y:-2.04},{x:20.92,y:-2.04},{x:21.8496,y:-2.572},{x:22.9104,y:-3.048},{x:24.1024,y:-3.468},{x:25.4256,y:-3.832},{x:26.88,y:-4.14},{x:28.4656,y:-4.392},{x:30.1824,y:-4.588},{x:32.0304,y:-4.728},{x:34.0096,y:-4.812},{x:36.12,y:-4.84},{x:36.12,y:-4.84},{x:36.8752,y:-4.8368},{x:37.6048,y:-4.8272},{x:38.3088,y:-4.8112},{x:38.9872,y:-4.7888},{x:39.64,y:-4.76},{x:40.2672,y:-4.7248},{x:40.8688,y:-4.6832},{x:41.4448,y:-4.6352},{x:41.9952,y:-4.5808},{x:42.52,y:-4.52},{x:42.52,y:-4.52},{x:42.6816,y:-4.732},{x:42.8144,y:-4.952},{x:42.9184,y:-5.18},{x:42.9936,y:-5.416},{x:43.04,y:-5.66},{x:43.0576,y:-5.912},{x:43.0464,y:-6.172},{x:43.0064,y:-6.44},{x:42.9376,y:-6.716},{x:42.84,y:-7},{x:42.84,y:-7},{x:42.7128,y:-7.276},{x:42.5552,y:-7.528},{x:42.3672,y:-7.756},{x:42.1488,y:-7.96},{x:41.9,y:-8.14},{x:41.6208,y:-8.296},{x:41.3112,y:-8.428},{x:40.9712,y:-8.536},{x:40.6008,y:-8.62},{x:40.2,y:-8.68},{x:40.2,y:-8.68},{x:25.72,y:-9.96},{x:24.4608,y:-10.096},{x:23.2752,y:-10.28},{x:22.1632,y:-10.512},{x:21.1248,y:-10.792},{x:20.16,y:-11.12},{x:19.2688,y:-11.496},{x:18.4512,y:-11.92},{x:17.7072,y:-12.392},{x:17.0368,y:-12.912},{x:16.44,y:-13.48},{x:16.44,y:-13.48},{x:15.8928,y:-14.0848},{x:15.4032,y:-14.7472},{x:14.9712,y:-15.4672},{x:14.5968,y:-16.2448},{x:14.28,y:-17.08},{x:14.0208,y:-17.9728},{x:13.8192,y:-18.9232},{x:13.6752,y:-19.9312},{x:13.5888,y:-20.9968},{x:13.56,y:-22.12},{x:13.56,y:-22.12},{x:13.6088,y:-23.6512},{x:13.7552,y:-25.0768},{x:13.9992,y:-26.3968},{x:14.3408,y:-27.6112},{x:14.78,y:-28.72},{x:15.3168,y:-29.7232},{x:15.9512,y:-30.6208},{x:16.6832,y:-31.4128},{x:17.5128,y:-32.0992},{x:18.44,y:-32.68},{x:18.44,y:-32.68},{x:19.476,y:-33.1816},{x:20.664,y:-33.6304},{x:22.004,y:-34.0264},{x:23.496,y:-34.3696},{x:25.14,y:-34.66},{x:26.936,y:-34.8976},{x:28.884,y:-35.0824},{x:30.984,y:-35.2144},{x:33.236,y:-35.2936},{x:35.64,y:-35.32},{x:35.64,y:-35.32},{x:37.3752,y:-35.308},{x:39.0288,y:-35.272},{x:40.6008,y:-35.212},{x:42.0912,y:-35.128},{x:43.5,y:-35.02},{x:44.8272,y:-34.888},{x:46.0728,y:-34.732},{x:47.2368,y:-34.552},{x:48.3192,y:-34.348},{x:49.32,y:-34.12},{x:49.32,y:-34.12},{x:50.2344,y:-33.868},{x:51.0896,y:-33.592},{x:51.8856,y:-33.292},{x:52.6224,y:-32.968},{x:53.3,y:-32.62},{x:53.9184,y:-32.248},{x:54.4776,y:-31.852},{x:54.9776,y:-31.432},{x:55.4184,y:-30.988},{x:55.8,y:-30.52},{x:55.8,y:-30.52},{x:56.1344,y:-30.0344},{x:56.4336,y:-29.5056},{x:56.6976,y:-28.9336},{x:56.9264,y:-28.3184},{x:57.12,y:-27.66},{x:57.2784,y:-26.9584},{x:57.4016,y:-26.2136},{x:57.4896,y:-25.4256},{x:57.5424,y:-24.5944},{x:57.56,y:-23.72},{x:57.56,y:-23.72},{x:57.5464,y:-23.1232},{x:57.5056,y:-22.5488},{x:57.4376,y:-21.9968},{x:57.3424,y:-21.4672},{x:57.22,y:-20.96},{x:57.0704,y:-20.4752},{x:56.8936,y:-20.0128},{x:56.6896,y:-19.5728},{x:56.4584,y:-19.1552},{x:56.2,y:-18.76},{x:56.2,y:-18.76},{x:55.892,y:-18.3648},{x:55.544,y:-17.9792},{x:55.156,y:-17.6032},{x:54.728,y:-17.2368},{x:54.26,y:-16.88},{x:53.752,y:-16.5328},{x:53.204,y:-16.1952},{x:52.616,y:-15.8672},{x:51.988,y:-15.5488},{x:51.32,y:-15.24},{x:51.32,y:-15.24},{x:51.8304,y:-14.6696},{x:52.2736,y:-14.0784},{x:52.6496,y:-13.4664},{x:52.9584,y:-12.8336},{x:53.2,y:-12.18},{x:53.3744,y:-11.5056},{x:53.4816,y:-10.8104},{x:53.5216,y:-10.0944},{x:53.4944,y:-9.3576},{x:53.4,y:-8.6},{x:53.4,y:-8.6},{x:53.2312,y:-7.8384},{x:53.0128,y:-7.1216},{x:52.7448,y:-6.4496},{x:52.4272,y:-5.8224},{x:52.06,y:-5.24},{x:51.6432,y:-4.7024},{x:51.1768,y:-4.2096},{x:50.6608,y:-3.7616},{x:50.0952,y:-3.3584},{x:49.48,y:-3},{x:49.48,y:-3},{x:50.696,y:-2.4032},{x:51.784,y:-1.7008},{x:52.744,y:-.8928},{x:53.576,y:.0208},{x:54.28,y:1.04},{x:54.856,y:2.1648},{x:55.304,y:3.3952},{x:55.624,y:4.7312},{x:55.816,y:6.1728},{x:55.88,y:7.72},{x:55.88,y:7.72},{x:55.836,y:9.0712},{x:55.704,y:10.3408},{x:55.484,y:11.5288},{x:55.176,y:12.6352},{x:54.78,y:13.66},{x:54.296,y:14.6032},{x:53.724,y:15.4648},{x:53.064,y:16.2448},{x:52.316,y:16.9432},{x:51.48,y:17.56},{x:51.48,y:17.56},{x:50.5192,y:18.1072},{x:49.4288,y:18.5968},{x:48.2088,y:19.0288},{x:46.8592,y:19.4032},{x:45.38,y:19.72},{x:43.7712,y:19.9792},{x:42.0328,y:20.1808},{x:40.1648,y:20.3248},{x:38.1672,y:20.4112},{x:36.04,y:20.44},{x:36.04,y:20.44},{x:34.7352,y:20.4288},{x:33.4768,y:20.3952},{x:32.2648,y:20.3392},{x:31.0992,y:20.2608},{x:29.98,y:20.16},{x:28.9072,y:20.0368},{x:27.8808,y:19.8912},{x:26.9008,y:19.7232},{x:25.9672,y:19.5328},{x:25.08,y:19.32},{x:25.08,y:19.32},{x:11.96,y:19.32},{x:12.68,y:13.56}],iy=[{x:36.12,y:3.56},{x:35.4384,y:3.5688},{x:34.8016,y:3.5952},{x:34.2096,y:3.6392},{x:33.6624,y:3.7008},{x:33.16,y:3.78},{x:32.7024,y:3.8768},{x:32.2896,y:3.9912},{x:31.9216,y:4.1232},{x:31.5984,y:4.2728},{x:31.32,y:4.44},{x:31.32,y:4.44},{x:31.0768,y:4.632},{x:30.8592,y:4.856},{x:30.6672,y:5.112},{x:30.5008,y:5.4},{x:30.36,y:5.72},{x:30.2448,y:6.072},{x:30.1552,y:6.456},{x:30.0912,y:6.872},{x:30.0528,y:7.32},{x:30.04,y:7.8},{x:30.04,y:7.8},{x:30.0528,y:8.2792},{x:30.0912,y:8.7248},{x:30.1552,y:9.1368},{x:30.2448,y:9.5152},{x:30.36,y:9.86},{x:30.5008,y:10.1712},{x:30.6672,y:10.4488},{x:30.8592,y:10.6928},{x:31.0768,y:10.9032},{x:31.32,y:11.08},{x:31.32,y:11.08},{x:31.5984,y:11.2472},{x:31.9216,y:11.3968},{x:32.2896,y:11.5288},{x:32.7024,y:11.6432},{x:33.16,y:11.74},{x:33.6624,y:11.8192},{x:34.2096,y:11.8808},{x:34.8016,y:11.9248},{x:35.4384,y:11.9512},{x:36.12,y:11.96},{x:36.12,y:11.96},{x:36.8176,y:11.9512},{x:37.4704,y:11.9248},{x:38.0784,y:11.8808},{x:38.6416,y:11.8192},{x:39.16,y:11.74},{x:39.6336,y:11.6432},{x:40.0624,y:11.5288},{x:40.4464,y:11.3968},{x:40.7856,y:11.2472},{x:41.08,y:11.08},{x:41.08,y:11.08},{x:41.3232,y:10.9032},{x:41.5408,y:10.6928},{x:41.7328,y:10.4488},{x:41.8992,y:10.1712},{x:42.04,y:9.86},{x:42.1552,y:9.5152},{x:42.2448,y:9.1368},{x:42.3088,y:8.7248},{x:42.3472,y:8.2792},{x:42.36,y:7.8},{x:42.36,y:7.8},{x:42.3472,y:7.32},{x:42.3088,y:6.872},{x:42.2448,y:6.456},{x:42.1552,y:6.072},{x:42.04,y:5.72},{x:41.8992,y:5.4},{x:41.7328,y:5.112},{x:41.5408,y:4.856},{x:41.3232,y:4.632},{x:41.08,y:4.44},{x:41.08,y:4.44},{x:40.7856,y:4.2728},{x:40.4464,y:4.1232},{x:40.0624,y:3.9912},{x:39.6336,y:3.8768},{x:39.16,y:3.78},{x:38.6416,y:3.7008},{x:38.0784,y:3.6392},{x:37.4704,y:3.5952},{x:36.8176,y:3.5688},{x:36.12,y:3.56},{x:36.12,y:3.56}],hy=[{x:33.56,y:-18.92},{x:41.96,y:-18.2},{x:42.3248,y:-18.4936},{x:42.6512,y:-18.7984},{x:42.9392,y:-19.1144},{x:43.1888,y:-19.4416},{x:43.4,y:-19.78},{x:43.5728,y:-20.1296},{x:43.7072,y:-20.4904},{x:43.8032,y:-20.8624},{x:43.8608,y:-21.2456},{x:43.88,y:-21.64},{x:43.88,y:-21.64},{x:43.8648,y:-22.0568},{x:43.8192,y:-22.4432},{x:43.7432,y:-22.7992},{x:43.6368,y:-23.1248},{x:43.5,y:-23.42},{x:43.3328,y:-23.6848},{x:43.1352,y:-23.9192},{x:42.9072,y:-24.1232},{x:42.6488,y:-24.2968},{x:42.36,y:-24.44},{x:42.36,y:-24.44},{x:42.0064,y:-24.5616},{x:41.5856,y:-24.6704},{x:41.0976,y:-24.7664},{x:40.5424,y:-24.8496},{x:39.92,y:-24.92},{x:39.2304,y:-24.9776},{x:38.4736,y:-25.0224},{x:37.6496,y:-25.0544},{x:36.7584,y:-25.0736},{x:35.8,y:-25.08},{x:35.8,y:-25.08},{x:34.7952,y:-25.0736},{x:33.8608,y:-25.0544},{x:32.9968,y:-25.0224},{x:32.2032,y:-24.9776},{x:31.48,y:-24.92},{x:30.8272,y:-24.8496},{x:30.2448,y:-24.7664},{x:29.7328,y:-24.6704},{x:29.2912,y:-24.5616},{x:28.92,y:-24.44},{x:28.92,y:-24.44},{x:28.6008,y:-24.3144},{x:28.3152,y:-24.1616},{x:28.0632,y:-23.9816},{x:27.8448,y:-23.7744},{x:27.66,y:-23.54},{x:27.5088,y:-23.2784},{x:27.3912,y:-22.9896},{x:27.3072,y:-22.6736},{x:27.2568,y:-22.3304},{x:27.24,y:-21.96},{x:27.24,y:-21.96},{x:27.2528,y:-21.636},{x:27.2912,y:-21.336},{x:27.3552,y:-21.06},{x:27.4448,y:-20.808},{x:27.56,y:-20.58},{x:27.7008,y:-20.376},{x:27.8672,y:-20.196},{x:28.0592,y:-20.04},{x:28.2768,y:-19.908},{x:28.52,y:-19.8},{x:28.52,y:-19.8},{x:28.8008,y:-19.6904},{x:29.1312,y:-19.5856},{x:29.5112,y:-19.4856},{x:29.9408,y:-19.3904},{x:30.42,y:-19.3},{x:30.9488,y:-19.2144},{x:31.5272,y:-19.1336},{x:32.1552,y:-19.0576},{x:32.8328,y:-18.9864},{x:33.56,y:-18.92},{x:33.56,y:-18.92}],sy=[{x:-6.36,y:19.32},{x:-7.56,y:13.48},{x:-8.9592,y:14.8024},{x:-10.3728,y:15.9856},{x:-11.8008,y:17.0296},{x:-13.2432,y:17.9344},{x:-14.7,y:18.7},{x:-16.1712,y:19.3264},{x:-17.6568,y:19.8136},{x:-19.1568,y:20.1616},{x:-20.6712,y:20.3704},{x:-22.2,y:20.44},{x:-22.2,y:20.44},{x:-23.7568,y:20.3784},{x:-25.1952,y:20.1936},{x:-26.5152,y:19.8856},{x:-27.7168,y:19.4544},{x:-28.8,y:18.9},{x:-29.7648,y:18.2224},{x:-30.6112,y:17.4216},{x:-31.3392,y:16.4976},{x:-31.9488,y:15.4504},{x:-32.44,y:14.28},{x:-32.44,y:14.28},{x:-33.7448,y:15.4504},{x:-35.0672,y:16.4976},{x:-36.4072,y:17.4216},{x:-37.7648,y:18.2224},{x:-39.14,y:18.9},{x:-40.5328,y:19.4544},{x:-41.9432,y:19.8856},{x:-43.3712,y:20.1936},{x:-44.8168,y:20.3784},{x:-46.28,y:20.44},{x:-46.28,y:20.44},{x:-48.4232,y:20.3288},{x:-50.3408,y:19.9952},{x:-52.0328,y:19.4392},{x:-53.4992,y:18.6608},{x:-54.74,y:17.66},{x:-55.7552,y:16.4368},{x:-56.5448,y:14.9912},{x:-57.1088,y:13.3232},{x:-57.4472,y:11.4328},{x:-57.56,y:9.32},{x:-57.56,y:9.32},{x:-57.56,y:-20.44},{x:-43.08,y:-20.44},{x:-43.08,y:4.76},{x:-43.0728,y:5.1168},{x:-43.0512,y:5.4512},{x:-43.0152,y:5.7632},{x:-42.9648,y:6.0528},{x:-42.9,y:6.32},{x:-42.8208,y:6.5648},{x:-42.7272,y:6.7872},{x:-42.6192,y:6.9872},{x:-42.4968,y:7.1648},{x:-42.36,y:7.32},{x:-42.36,y:7.32},{x:-42.2048,y:7.472},{x:-42.0272,y:7.608},{x:-41.8272,y:7.728},{x:-41.6048,y:7.832},{x:-41.36,y:7.92},{x:-41.0928,y:7.992},{x:-40.8032,y:8.048},{x:-40.4912,y:8.088},{x:-40.1568,y:8.112},{x:-39.8,y:8.12},{x:-39.8,y:8.12},{x:-39.2736,y:8.0992},{x:-38.7184,y:8.0368},{x:-38.1344,y:7.9328},{x:-37.5216,y:7.7872},{x:-36.88,y:7.6},{x:-36.2096,y:7.3712},{x:-35.5104,y:7.1008},{x:-34.7824,y:6.7888},{x:-34.0256,y:6.4352},{x:-33.24,y:6.04},{x:-33.24,y:6.04},{x:-33.24,y:-20.44},{x:-19.24,y:-20.44},{x:-19.24,y:4.76},{x:-19.232,y:5.1168},{x:-19.208,y:5.4512},{x:-19.168,y:5.7632},{x:-19.112,y:6.0528},{x:-19.04,y:6.32},{x:-18.952,y:6.5648},{x:-18.848,y:6.7872},{x:-18.728,y:6.9872},{x:-18.592,y:7.1648},{x:-18.44,y:7.32},{x:-18.44,y:7.32},{x:-18.2704,y:7.472},{x:-18.0816,y:7.608},{x:-17.8736,y:7.728},{x:-17.6464,y:7.832},{x:-17.4,y:7.92},{x:-17.1344,y:7.992},{x:-16.8496,y:8.048},{x:-16.5456,y:8.088},{x:-16.2224,y:8.112},{x:-15.88,y:8.12},{x:-15.88,y:8.12},{x:-15.34,y:8.1008},{x:-14.776,y:8.0432},{x:-14.188,y:7.9472},{x:-13.576,y:7.8128},{x:-12.94,y:7.64},{x:-12.28,y:7.4288},{x:-11.596,y:7.1792},{x:-10.888,y:6.8912},{x:-10.156,y:6.5648},{x:-9.4,y:6.2},{x:-9.4,y:6.2},{x:-9.4,y:-20.44},{x:5.08,y:-20.44},{x:5.08,y:19.32},{x:-6.36,y:19.32}],ry=window,ly=ry.innerWidth,ay=ry.innerHeight,ny=ly/ay>M,py=ry.devicePixelRatio,oy=(ny?ay:ly)*py,fy=oy/(100*(ny?1:M)),cy=document,dy=cy.getElementById("drawing_board"),gy=cy.getElementById("shake");dy.getElementsByTagName("canvas")[0].remove();let uy=Array(11).fill(1).map(((y,x)=>`${10*x}% {transform: translate(${n(2*c()-1)}mm, ${n(2*c()-1)}mm) rotate(${n(2*c()-1)}deg);}`));uy="@keyframes shake {\n"+uy.join("\n")+"\n}",gy.innerHTML=uy,cy.body.style.overflow="hidden",Z=cy.createElement("canvas"),yy=cy.createElement("canvas");let my=Z.getContext("2d"),by=yy.getContext("2d"),wy=w?Q(m[0]):z(m[0],E/S),vy=w?Q(m[1]):z(m[1],E/P),Ey=(()=>{let y=70.71068,x=x=>U(x).ap(-y,-50).ap(y,-50).ap(y,50).ap(-y,50),t=(y,x=15)=>U(y).ap(-x,-x).ap(x,-x).ap(x,x).ap(-x,x),e=y=>{let x,t=[],e=0;for(;5>t.length;){let y=35*o(c()),i=c()*s;x=new L(a(i)*y,r(i)*y),(50<e++||t.map((y=>25<y.d(x))).reduce(((y,x)=>y&&x),!0))&&t.push(x)}return t.map(((x,t)=>y[t].t(1,x.x,x.y)))};g=15*(1-$),h=l(.05+$/2.5),ci=(y,x=17.5)=>{let t,e=U(y);for(t=0;t<s;t+=i/200)e.ap(a(t)*x,r(t)*x);return e},sh4=y=>[x(y[4].p),y[0],y[1].rot(i/2),y[2].rot(i),y[3].rot(3*i/2)],sq1=y=>[x(y[1]),t(y[0],25),ci(y[0],7+g).o(!0)],sq2=y=>[x(y[1]),t(y[0],25),t(y[0],7+g).o(!0)],sq3=y=>[x(y[2]),t(y[0],25),t(y[0],14+.6*g).o(!0),t(y[1],12.5-.6*g)],sq4=y=>sh4(y.map((y=>U(y,!0).ap(9+g,25).ap(-9-g,25).ap(0,16-g)))),sq5=y=>[x(y[5]),...e([,,,,,].fill(0).map(((x,e)=>t(y[e],10))))],sq2a=y=>[x(y[2]),U(y[0]).ap(-25,-25).ap(5+g,-25).ap(-25,5+g),U(y[1]).ap(25,25).ap(-5-g,25).ap(25,-5-g)],sq3a=y=>[x(y[3]),U(y[0]).ap(-25,-25).ap(-10+g,-25).ap(-25,-10+g),U(y[1]).ap(25,-25).ap(25,-20+g).ap(-20+g,25).ap(-25,25).ap(-25,20-g).ap(20-g,-25),U(y[2]).ap(25,25).ap(10-g,25).ap(25,10-g)],ci1=y=>[x(y[1]),ci(y[0],30),t(y[0],5+g).o(!0)],ci2=y=>[x(y[1]),ci(y[0],30),ci(y[0],12.5+g).o(!0)],ci3=y=>[x(y[2]),ci(y[0],30),ci(y[0],17+.7*g).o(!0),ci(y[1],15-.7*g)],ci4=y=>sh4(y.map((y=>{let x,t=U(y,!0).ap(30*a(i/2-h),30*r(h));for(x=h;x<=i/2-h;x+=(i/2-2*h)/50)t.ap(30*a(x),30*r(x));return t}))),ci5=y=>[x(y[5]),...e([,,,,,].fill(0).map(((x,t)=>ci(y[t],12))))],ci2a=y=>{let t,e=U(y[0]),s=U(y[1]);for(t=h;t<=i-h;t+=(i-2*h)/100)e.ap(30*a(t),30*r(t)),s.ap(30*a(t),30*r(t));return[x(y[2]),e,s.rot(i)]},ci3a=y=>{let t,e=U(y[0]),h=U(y[1]),s=U(y[2]),n=.3*$,p=l(.45+n);for(t=p;t<i-p+(i-2*p)/100;t+=(i-2*p)/50)e.ap(30*a(t),30*r(t)),s.ap(30*a(t),30*r(t));for(p=l(.45-n),t=i-p;t<i+p+p/50;t+=p/25)h.ap(30*a(t),30*r(t));for(t=-p;t<p+p/50;t+=p/25)h.ap(30*a(t),30*r(t));return[x(y[3]),e,h,s.rot(i)]};let n=(y=>{let x=[239,241,220],t=[52,51,50],e=[[[244,200,5],[240,182,5],[200,142,5]],[[225,139,117],[201,75,64],[152,51,42]],[[151,176,201],[62,111,182],[57,81,116]],[[156,201,149],[72,161,77],[62,106,64]],[[237,169,182],[235,97,143],[144,74,97]],[[191,151,190],[130,77,147],[95,56,107]]],i=xy(1==R?[e[B[0]][I?2:0],e[B[0]][I?0:2]]:I?[t,x]:[x,t],[0,1],!0),h=y=>{let i=[x,...e[B[_?y:0]],t];return I&&i.reverse(),xy(i,[0,.1,.4,.7,1])},s=y=>xy([e[B[_?y:1]][I?2:0],e[B[_?y:1]][1],e[B[0]][1],e[B[0]][I?0:2]],[0,.33,.67,1]);if(2==R)return Array(3).fill(i);if(3==R)return[...Array(2).fill((y=>{let i=[x,...W.map((y=>e[y][1])),t];I&&i.reverse();let h=[0],s=0,r=1/(i.length-1);for(;s<1-r/2;)h.push(s+=r);return xy(i,h)})()),i];let r=1==R?[s(1),s(2),s(3),s(4),s(5)]:[h(0),h(1),h(2),h(3),h(4)];return 1==_&&(r=r.map(((y,x)=>r[x%2]))),[...r.slice(0,2),i]})();return[x(n[2]),ty(n[0],ey),ty(n[0],iy).o(!0),ty(n[0],hy).o(!0),ty(n[1],sy)]})(),ky=yy.style;yy.width=Z.width=cw=n(oy*(ny?M:1)),yy.height=Z.height=ch=n(oy/(ny?1:M)),ky.width=Z.style.width=cw/py+"px",ky.height=Z.style.height=ch/py+"px",ky.position="absolute",ky.top="0",ky.left="0",ky.animation="shake 0.5s",ky.animationIterationCount="infinite",Ey.forEach(((y,x)=>y.rot(x?q:0))),Ey.forEach(((y,x)=>y.t(1,x?34*(.5<x/Ey.length?-1:1):0))),.5>c()&&Ey.forEach((y=>y.rot(i))),dy.prepend(yy),dy.prepend(Z);let Ty=new class{constructor(y,x){this.p=y.map((y=>[y])),this.fr=y.map((y=>y.cp().ad(x).rm(x))),this.x=0,this.y=0,this.m=0,this.n=0}f(y,x,t,e,i){this.p.forEach(((h,s)=>{if(!H&&0==s)return;let r,l,a=this.fr[s];for(r=0;r<y;r++){for(l=0;l<x;l++)!w&&s&&4e3>a.a.length&&a.ad(4*t),a.a.forEach((y=>y.a(V(y.x,y.y,e,i,.1))));h.push(a.cp())}})),this.n+=y}sp(y,x,t,e,i,h){let s=this.dx,r=this.dy,l=this.m;x.moveTo(y[0].x*l+s,y[0].y*l+r);for(let t=1;t<y.length;t++)x.lineTo(y[t].x*l+s,y[t].y*l+r);x.strokeStyle=t,x.lineWidth=i,x.fillStyle=e,x.closePath(),h?x.stroke():x.fill("evenodd")}cp(y,x,t,e){let i=this.dx,h=this.dy,r=this.m;x.fillStyle=t,y.forEach((y=>{x.beginPath(),x.arc(y.x*r+i,y.y*r+h,.25*e*r,0,s),x.fill()}))}bp(y,x,t,e){if(0!=e%7)return;let i,h,s=this.dx,r=this.dy,l=this.m;for(x.beginPath(),i=0;1>i;i+=1e-4)h=y.bs(i),0==i?x.moveTo(h.x*l+s,h.y*l+r):x.lineTo(h.x*l+s,h.y*l+r);x.closePath(),x.lineWidth=l/5,x.strokeStyle=t,x.stroke()}hp(y,x,t){let e,i,h,s,r,l=this.dx,a=this.dy,n=this.m;for(x.lineWidth=n/5,e=0;100>e;e++)x.strokeStyle=y.p.ca(t+(c()-.5)/10),r=c(),i=y.bs(r),h=y.bs(r-.05).s(i).n(),s=i.cp().s(y.bs(r+.05)).n().a(h),h.x=s.y,h.y=-s.x,h.n(),s=i.cp().a(h.cp().m(-.5)),i.a(h.m(.5)),x.beginPath(),x.moveTo(i.x*n+l,i.y*n+a),x.lineTo(s.x*n+l,s.y*n+a),x.stroke()}rp(y,x,t){let e,i,h=this.dx,r=this.dy,l=this.m;for(e=0;50>e;e++)x.fillStyle=y.p.ca(t+(c()-.5)/5),i=y.bs(c()),x.beginPath(),x.arc(i.x*l+h,i.y*l+r,.8*c()*l,0,s),x.fill()}mp(y,x,t,e){if(0!=x%50||x+50>=y.length)return;let i,h,s,r,l,a=this.dx,n=this.dy,p=this.m,o=0==x?50:49,f=Array(10+x).fill(1).map((()=>1+c())).reduce(((y,x,t)=>[...y,x+(y[t-1]||0)]),[]);for(0==x&&(x=1),f=f.map((y=>y/f[f.length-1])),f.unshift(0),i=0;i<f.length-1;i++){for(t.beginPath(),s=f[i],r=y[x].bs(s),t.moveTo(r.x*p+a,r.y*p+n),s+=1e-4;s<f[i+1];)r=y[x].bs(s),t.lineTo(r.x*p+a,r.y*p+n),s+=1e-4;for(h=x;h<=x+o;h++)r=y[h].bs(f[i+1]),t.lineTo(r.x*p+a,r.y*p+n);for(;s>f[i];)r=y[x+o].bs(s),t.lineTo(r.x*p+a,r.y*p+n),s-=1e-4;for(h=x+o;h>x;h--)r=y[h].bs(f[i]),t.lineTo(r.x*p+a,r.y*p+n);t.closePath(),l=y[x].p.ca(e+(c()-.5)/10,!0),t.fillStyle=l,t.strokeStyle=y[x].p.ca(1-e,!0),t.lineWidth=p/50,t.fill(),t.stroke()}}dp(y,x,t,e=!1){if(0!=x||e||5==b){let i=x/(y.length-2),h=y[0].p.ca(i);e||0==b?(t.beginPath(),this.sp(y[x].a,t,h,h,this.m/50,!0),this.sp(y[x+1].a,t,h,h,this.m/50,!1)):1==b?this.cp(y[x].a,t,h,(1-i)*(1-(1-i)**100)):2==b?this.bp(y[x],t,h,x):3==b?this.hp(y[x],t,i):4==b?this.rp(y[x],t,i):this.mp(y,x,t,i)}}df(y,x=0){this.p.forEach(((t,e)=>{if(0==e)return;let i,h=t[p(x*(t.length-2))].a,s=this.dx,r=this.dy,l=this.m;for(t[0].h||y.beginPath(),y.moveTo(h[0].x*l+s,h[0].y*l+r),i=1;i<h.length;i++)y.lineTo(h[i].x*l+s,h[i].y*l+r);y.closePath(),y.fillStyle=t[0].p.ca(0,!0),e!=this.p.length-1&&this.p[e+1][0].h||y.fill("evenodd")}))}d(y,x,t){this.dx,this.dy;let e,i=this.p[0].length-1,h=0==b?.01:0;if(y.fillStyle=this.p[0][0].p.ca(1,!0),y.fillRect(0,0,2*this.dx,2*this.dy),j)for(let e=0;e<t;e++)y.fillStyle=this.p[0][0].p.ca((e+.5)/t,!0),y.fillRect(0,e,x,1);if(H)for(e=i-1;0<=e;e--)this.dp(this.p[0],e,y,!0);for(1==D&&(this.df(y),this.df(y,h)),i=this.p[1].length-1,e=i-1;0<=e;e--)this.p.forEach(((x,t)=>t?this.dp(x,e,y):null));0==D&&(this.df(y),this.df(y,h))}dn(y,x,t,e){var i=Math.min;this.dx,this.dy;let h,s=i(this.p[0].length-1,e),r=0==b?.01:0;if(y.fillStyle=this.p[0][0].p.ca(1,!0),y.fillRect(0,0,2*this.dx,2*this.dy),j)for(let e=0;e<t;e++)y.fillStyle=this.p[0][0].p.ca((e+.5)/t,!0),y.fillRect(0,e,x,1);if(H)for(h=s-1;0<=h;h--)this.dp(this.p[0],h,y,!0);for(1==D&&(this.df(y),this.df(y,r)),s=i(this.p[1].length-1,e),h=s-1;0<=h;h--)this.p.forEach(((x,t)=>t?this.dp(x,h,y):null));0==D&&(this.df(y),this.df(y,r))}dt(y,x){y.fillStyle=this.p[0][0].p.ca(1,!0),y.fillRect(0,0,2*this.dx,2*this.dy),this.df(x)}w(y,x,t){this.dx=y,this.dy=x,this.m=t}}(Ey,.8);Ty.w(cw/2,ch/2,fy),Ty.dt(my,by);let Sy=()=>{Ty.f(10,4,.08==E?.4:.8,wy,vy),Ty.n<k?ry.setTimeout(Sy,0):(yy.style.transform=null,dy.removeChild(yy),Ty.d(my,cw,ch))};Sy();
      }
      function generate() {
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        let interval = urlParams.get('interval');
        interval = interval ? parseInt(interval) : null;
        let background = urlParams.get('background');
        let hash = urlParams.get('hash');
        //generate a randomhash
        let h = "0x";
        for(var i = 0;i<64;++i){
            let n = parseInt(Math.floor(Math.random()*16));
            h+= n.toString(16);
        }
        let tokenData = {hash: hash ? hash : h, tokenId: 1000};
        if (background) {
          document.body.style.backgroundColor = background;
        }
        render_rapture(tokenData);
        if (interval) {
          setTimeout(_ => generate(), interval * 1000);
        }
      }
      window.onload = _ => generate();
    </script>
  </body>
</html>
