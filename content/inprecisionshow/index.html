<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Screens</title>
  </head>
  <body style="margin:0;padding:0">
    <div id="drawing_board" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);"><canvas></canvas></div>
    <script>
      function render_inprecision(tokenData) {
        let e=Math.PI,t=2*Math.PI,r=Math.round,o=Math.sin,a=Math.cos,c=Math.acos,f=Math.floor,l=Math.sqrt,i=Math.pow,v=Math.min,s=Math.max,n=(e,t=0)=>Array(e).fill(0).map(((e,r)=>r+t)),u=e=>e.length,p=(()=>{let e=0;return{s:t=>e=2*(1+f(t))*w,g:()=>e}})(),m=()=>p.g(),h=e=>e.beginPath(),g=e=>e.closePath(),x=(e,t)=>e.strokeStyle=t,d=(e,t)=>e.fillStyle=t,b=(e,t)=>e.lineWidth=t,_=window.location.search,y=new URLSearchParams(_),w=y.get("grid");w=w?parseInt(w):1;let D=y.get("pos");D=D?parseInt(D):0;let F,C,A,E,B=Math.floor(D/w),$=D%w,k=window,z=y.get("width"),T=z?parseInt(z):k.innerHeight,P=z?1:k.devicePixelRatio;z=z?parseInt(z):k.innerWidth,F=Uint32Array.from([0,1,C=A=2,3].map((e=>parseInt(tokenData.hash.substr(8*e+2,8),16)))),E=()=>(A=F[3],F[3]=F[2],F[2]=F[1],F[1]=C=F[0],A^=A<<11,F[0]^=A^A>>>8^C>>>19,F[0]/4294967296);let I=(e=0,t=1)=>e+(t-e)*E(),S=(e,t)=>{let r,o,a,c,f=[],l=[],i=0,v=[...t];for(;i++<u(t);)l.push(i-1);for(;0<e--;)r=v.reduce(((e,t,r)=>[...e,t+(e[r-1]||0)]),[]),c=u(r)-1,o=I(0,r[c]),a=r.findIndex((e=>e>o)),a=0>a?c:a,f.push(l.splice(a,1)[0]),v.splice(a,1);return f},M=e=>{for(let t,r=u(e)-1;0<r;r--)t=f(I()*(r+1)),[e[r],e[t]]=[e[t],e[r]];return e};I(-1e4,1e4),I(-1e4,1e4);let R=S(1,[33,33,33])[0],j=S(1,[33,33,33])[0],L=.5>I(),U=L&&.5>I(),W=.85>I(),G=S(1,[1,1,1,1,1,1,1,1,1])[0],H=S(1,[80,15,5])[0],O=.5>I();2==H&&(R=0),1==H&&(R=1);let q,J,N,V,K=(e,t,r)=>e.getUniformLocation(t,r),Q=(e,t)=>e.bindTexture(3553,t),X=(e,t,r)=>e.texParameteri(3553,t,r),Y=(e,t,r)=>{let o=e.createShader(r);return e.shaderSource(o,t),e.compileShader(o),o},Z=(e,t,r)=>{let o=e.createProgram();e.attachShader(o,Y(e,t,35633)),e.attachShader(o,Y(e,r,35632)),e.linkProgram(o);let a=e.getAttribLocation(o,"a_p"),c=e.createBuffer();return e.bindBuffer(34962,c),e.bufferData(34962,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),35044),e.enableVertexAttribArray(a),e.vertexAttribPointer(a,2,5126,!1,0,0),o},ee=(e,t,r,o,a,c,f,l,i)=>{e.bindFramebuffer(36160,r),e.useProgram(t);let v=K(e,t,"u_off"),s=K(e,t,"u_sc"),n=K(e,t,"u_cvs"),u=K(e,t,"u_brsh");e.uniform2f(v,f,l),e.uniform1f(s,2),e.uniform1i(n,0),e.uniform1i(u,1),e.activeTexture(33984),Q(e,o),e.activeTexture(33985),Q(e,a),c&&e.texImage2D(3553,0,6408,6408,5121,c),e.drawArrays(4,0,6)},te=(e,t,r,o,a,c,f)=>{e.bindFramebuffer(36160,o),e.useProgram(t);let l=K(e,t,"u_p");e.uniform2f(l,c,f);let i=K(e,t,"u_t");e.uniform1i(i,0),e.activeTexture(33984),Q(e,r),a&&e.texImage2D(3553,0,6408,6408,5121,a),e.drawArrays(4,0,6)},re=e=>{let t=e.createTexture();return Q(e,t),X(e,10242,33071),X(e,10243,33071),X(e,10241,9729),X(e,10240,9729),t},oe=/\bHeadlessChrome/.test(navigator.userAgent)?1:4,ae=e=>e.toFixed(9),ce="float sn(vec2 x,float a,out vec2 g){vec2 uv=vec2(x.x+x.y*0.5,x.y);vec2 i0=floor(uv),f0=fract(uv);float cmp=step(f0.y,f0.x);vec2 o1=vec2(cmp,1.0-cmp);vec2 i1=i0+o1,i2=i0+1.0;vec2 v0=vec2(i0.x-i0.y*0.5,i0.y);vec2 v1=vec2(v0.x+o1.x-o1.y*0.5,v0.y+o1.y);vec2 v2=vec2(v0.x+0.5,v0.y+1.0);vec2 x0=x-v0,x1=x-v1,x2=x-v2;vec3 iu=vec3(i0.x,i1.x,i2.x);vec3 iv=vec3(i0.y,i1.y,i2.y);vec3 h=mod(iu,289.0);h=mod((h*51.0+2.0)*h+iv,289.0);h=mod((h*34.0+10.0)*h,289.0);vec3 psi=h*0.07482+a;vec3 gx=cos(psi);vec3 gy=sin(psi);vec2 g0=vec2(gx.x,gy.x);vec2 g1=vec2(gx.y,gy.y);vec2 g2=vec2(gx.z,gy.z);vec3 w=max(0.8-vec3(dot(x0,x0),dot(x1,x1),dot(x2,x2)),0.0);vec3 w2=w*w;vec3 w4=w2*w2;vec3 gdx=vec3(dot(g0,x0),dot(g1,x1),dot(g2,x2));float n=dot(w4,gdx);vec3 w3=w2*w;vec3 dw=-8.0*w3*gdx;vec2 dn0=w4.x*g0+dw.x*x0;vec2 dn1=w4.y*g1+dw.y*x1;vec2 dn2=w4.z*g2+dw.z*x2;g=10.9*(dn0+dn1+dn2);return 10.9*n;}",fe="float th=0.33333333;vec3 rtl(vec3 c){vec3 x=pow(vec3(0.4122214708,0.2119034982,0.0883024619)*c.rrr+vec3(0.5363325363,0.6806995451,0.2817188376)*c.ggg+vec3(0.0514459929,0.1073969566,0.6299787005)*c.bbb,vec3(th,th,th));return vec3(0.2104542553,1.9779984951,0.0259040371)*x.rrr+vec3(0.7936177850,-2.4285922050,0.7827717662)*x.ggg+vec3(-0.0040720468,0.4505937099,-0.8086757660)*x.bbb;}",le="vec3 ltr(vec3 c){vec3 x=c.rrr+vec3(0.3963377774,-0.1055613458,-0.0894841775)*c.ggg+vec3(0.2158037573,-0.0638541728,-1.2914855480)*c.bbb;x=x*x*x;return vec3(4.0767416621,-1.2684380046,-0.0041960863)*x.rrr+vec3(-3.3077115913,2.6097574011,-0.7034186147)*x.ggg+vec3(0.2309699292,-0.3413193965,1.7076147010)*x.bbb;}",ie=(e,t)=>`float fbm${u(e)}(vec2 p, float a,out vec2 g){float v=0.0;g=vec2(0.0,0.0);vec2 gr;float m;`+((e,t)=>e.map(((e,r)=>`m=${ae(t[r])};v+=sn(p*${ae(e)},a,gr)/m;g+=gr/m;`)).join(""))(e,t)+"return v;}",ve=e=>`uniform sampler2D ${e};`,se="precision highp float;varying vec2 v_t;varying vec2 v_l;",ne=se+ve("u_t")+"uniform vec2 u_p;void main(){vec2 l=v_t*(1.0-u_p)+0.5*u_p;gl_FragColor=texture2D(u_t,l);}",ue=[["#2C272A","#CD7AA5","#DFDB8A","#9ECB7C","#E59E69"],["#2C272A","#C38EE8","#4BD4F2","#50F296","#F2DA63","#F2A35E","#F26F63"],["#020911","#FFF49F","#F44FC3","#352C7D","#4BE8DD"],["#1B191F","#B8AFBF","#DBA3A1","#C87F21","#65977A","#5E70B0"],["#1D1D1D","#FBF4EC","#F1AC34","#86AA9B","#87A4BF","#E17843"],["#313E3F","#CDD9CD","#75D2D4","#CA8B8C","#3D8F92"],["#1A1516","#FEBF10","#F99D1C","#D0332F","#2167B4"],["#112747","#C8BA70","#CDC3A0","#A4B1B9","#C44C2B","#4D3060","#BB9483"],["#250330","#60B145","#CADC96","#EDB4D0","#E680B9"]][G],pe=(e,t,r,o,a)=>{if(0===e)return a[t];let c=(r-o[t])/(o[t+4-e]-o[t]),f=pe(e-1,t,r,o,a).map((e=>e*c));return pe(e-1,t-1,r,o,a).map(((e,t)=>e*(1-c)+f[t]))},me=e=>{let t=u(e);if(2==t)return t=>[0,1].map((r=>e[0][r]+(e[1][r]-e[0][r])*t));let r=(e=>[0,0,0,...n(e-2).map((t=>t/(e-3))),1,1,1])(t);return t=>((e,t,r)=>{if(1==e)return r[u(r)-1];let o=0;for(;o<u(t)-1&&!(e>=t[o]&&e<t[o+1]);o++);return pe(3,o,e,t,r)})(t,r,e)},he=(e,t)=>{e.globalCompositeOperation="destination-out";let r=e.getTransform();e.setTransform(1,0,0,1,0,0),e.drawImage(t.canvas,0,0),e.setTransform(r),e.globalCompositeOperation="source-over"},ge=(e,t,r,o=!0,a=!0)=>{o&&h(t);let c=m()/2;e.forEach(((e,o)=>o?t.lineTo(e[0]*r+c,e[1]*r+c):t.moveTo(e[0]*r+c,e[1]*r+c))),a&&g(t)},xe=(e,t)=>l(i(e[0]-t[0],2)+i(e[1]-t[1],2)),de=(e,t,r)=>n(e).map((()=>{let e=1!=H&&10<u(r)&&.25>I()?r:t;return e[S(1,e.map((e=>e[3]?1:2)))[0]]})),be=(r,c)=>{let l=de(1,r,c),[i,p]=l[0],d=v(i,p,141-i,100-p)-.5,_=f(2*v(5+I()*d,d))/2,y=I()*t,w=.7>I()?t:e+(I()-.5)*e,D=r.filter((e=>xe(l[0],e)<_)),F=!W||I()<(2==H?.8:.5);if(0<u(D)){let e=D.map((e=>e[3]));if((5<s(...e)||3<e.reduce(((e,t)=>e+t),0)/u(e))&&.01<I())return be(r,c);D.forEach((e=>e[3]=F?e[3]?e[3]:1:e[3]+1))}l[0][2]++;let C=O?[]:n(8).map((e=>[i+_*a(t*e/8),p+_*o(t*e/8),1,1])).filter((e=>5<e[0]&&136>e[0]&&5<e[1]&&95>e[1]));return c.push(l[0],...C),{a:e*_*_,p:l,m:F,d:(r,c,l,v=!1)=>{let u=m()/2;if(v){let e=s(30,f(3*_)),t=me(n(e).map((t=>[i+a(15*t/e)*_+I()-.5,p+o(15*t/e)*_+I()-.5]))),l=n(500).map((e=>t(e/499)));return ge(l,r,c,!0,!1),void r.stroke()}if(l)return h(r),r.arc(i*c+u,p*c+u,_*c,y,y+w,!1),g(r),void r.fill();if(!(2==H&&.8>I())&&5<_){let o=I()*t,a=I()*e+e/2;if(.9>I()){h(r),r.arc(i*c+u,p*c+u,(_-2.25)*c,o,o+a,!1);let e=r.lineWidth,t=r.strokeStyle;x(r,"white"),b(r,4.5*c),r.stroke(),b(r,e),x(r,t),n(10).forEach((e=>{h(r),r.arc(i*c+u,p*c+u,(_-e/2)*c,o,o+a,!1),r.stroke()}))}10<_&&.2>I()&&(h(r),r.arc(i*c+u,p*c+u,(_-1)*c,o+a,o+a+t-a,!1),b(r,2*c),r.stroke())}}}},_e=(e,t)=>e.map(((e,r)=>e+t[r])),ye=(e,t)=>e.map(((e,r)=>e-t[r])),we=(e,t)=>e.map((e=>e*t)),De=e=>e.map(((t,r)=>xe(t,e[(r+1)%3]))),Fe=e=>e.map(((t,r)=>{let[o,a]=[1,2].map((t=>e[(r+t)%3]));return c((o*o+a*a-t*t)/(2*o*a))})),Ce=(e,t)=>{let r=de(3,e,t),o=De(r);for(;!(.79<Fe(o).sort(((e,t)=>e-t))[1]&&.2<v(...Fe(o)));)o=De(r=de(3,e,t));let a=e.filter((e=>((e,t,r,o)=>{let a=e[0]-o[0],c=e[1]-o[1],f=o[0]-r[0],l=r[1]-o[1],i=l*(t[0]-o[0])+f*(t[1]-o[1]),v=l*a+f*c,s=(o[1]-t[1])*a+(t[0]-o[0])*c;return 0>i?0>=v&&0>=s&&v+s>=i:0<=v&&0<=s&&v+s<=i})(e,...r))),c=!W||I()<(2==H?.8:.5);if(u(a)){let r=a.map((e=>e[3]));if((5<s(...r)||3<r.reduce(((e,t)=>e+t),0)/u(r))&&.01<I())return Ce(e,t);a.forEach((e=>e[3]=c?e[3]?e[3]:1:e[3]+1))}r.forEach((e=>e[2]++)),t.push(...r);let i=xe(r[0],r[1]),p=0,m=xe(r[1],r[2]);m<i&&([i,p]=[m,1]),m=xe(r[2],r[0]),m<i&&([i,p]=[m,2]);let g=(e=>{let t=(e[0]+e[1]+e[2])/2;return l(e.map((e=>t-e)).reduce(((e,t)=>e*t),1)*t)})(o);return{a:g,p:r,m:c,d:(e,t,a,c=!1)=>{if(c)return h(e),n(6).forEach((o=>{let a=r[o%3],c=r[(o+1)%3],l=xe(a,c),i=s(3,f(l/4))+1,v=ye(c,a),u=me(n(i).map((e=>_e(_e(a,we(v,e/(i-1))),[I()-.5,I()-.5]))));ge(n(50).map((e=>u(e/49))),e,t,!1,!1)})),void e.stroke();if(a)return ge(r,e,t),void e.fill();if(!(2==H&&.8>I())){if(.9>I()){let a=(p+2)%3,c=(p+1)%3,f=2*g/o[p],l=ye(r[a],r[p]),i=ye(r[a],r[c]);ge([r[p],r[c],_e(r[c],we(i,9.5/f)),_e(r[p],we(l,9.5/f))],e,t),d(e,"white"),e.fill(),h(e),n(20).map((o=>{1>(o/=2*f)&&ge([_e(r[p],we(l,o)),_e(r[c],we(i,o))],e,t,0,0)})),e.stroke()}if(.2>I()){let o=S(1,[1,1,1])[0],a=(o+1)%3,c=(o+2)%3;ye(r[a],r[o]),ye(r[c],r[o]),ge([r[a],r[o],r[c]],e,t,1,0),b(e,t/2),e.stroke()}}}}},Ae=z/T,Ee=l(2),Be=Ae>Ee,$e=(Be?T:z)*P,ke=r($e*(Be?Ee:1)),ze=r($e/(Be?1:Ee)),Te=$e/(141*(Ae<Ee?1:1/Ee)),Pe=[],Ie=[],Se=document,Me=Se.getElementById("drawing_board");(e=>{p.s(e)})(Te),Me.getElementsByTagName("canvas")[0].remove();let Re=m();q=Se.createElement("canvas"),J=Se.createElement("canvas"),c3=Se.createElement("canvas"),V=q.getContext("webgl",{preserveDrawingBuffer:!0}),N=J.getContext("2d"),mask=c3.getContext("2d");let[je,Le]=[ke+Re,ze+Re];c3.width=J.width=je,q.width=ke,c3.height=J.height=Le,q.height=ze,q.style.width=ke/P+"px",q.style.height=ze/P+"px",N.translate(-ke*$,-ze*B),mask.translate(-ke*$,-ze*B);let Ue=re(V);for(var We=0;4>We;We++){let e=re(V);Pe.push(e),V.texImage2D(3553,0,6408,je,Le,0,6408,5121,null);let t=V.createFramebuffer();Ie.push(t),V.bindFramebuffer(36160,t),V.framebufferTexture2D(36160,36064,3553,e,0)}Me.prepend(q);let[Ge,He]=[Re/je,Re/Le],[Oe,qe]=[ke/w,ze/w];V.viewport(0,0,je,Le),V.clearColor(1,1,1,1),V.clear(16384);let Je=((e,t,r,o,a,c)=>`attribute vec2 a_p;varying vec2 v_t;varying vec2 v_l;void main(){gl_Position=vec4(a_p*2.0-1.0,0,1);v_t=a_p;v_l=((a_p-0.5)*vec2(${ae((Oe+Re/w)/Oe)},${ae(c)})+0.5)*vec2(${ae(r)},${ae(o)})+vec2(${ae(e)},${ae(t)});}`)(Oe*$,qe*B,Oe,qe,0,(qe+Re/w)/qe),Ne=Z(V,Je,((e,t)=>se+ve("u_cvs")+ve("u_brsh")+"uniform vec2 u_off;uniform float u_sc;"+ce+fe+le+ie([1,2],[1,2])+ie([1,2,4,8,64],[1,2,4,16,512])+ie([1,2,4,8,16,32],[1,2,4,8,16,32])+"void main(){vec4 fc=vec4(0.0,0.0,0.0,0.0);vec4 xof=vec4(1.0,3.0,-1.0,-3.0)/8.0;vec4 yof=vec4(xof.yzw,xof.x);vec2 gr;"+`for(int i=0;i<${oe};i++){vec2 pof=vec2(xof[i],yof[i]);`+`vec2 pos=(v_l+pof)/${ae(e)};vec2 di=vec2(fbm2((pos+u_off)*50.0,0.0,gr),fbm2((pos+vec2(-1e3,1e3)+u_off)*50.0,0.0,gr))/1000.0;di+=vec2(fbm2((pos+u_off)*5.0,0.0,gr),fbm2((pos+vec2(-1e3,1e3)+u_off)*5.0,0.0,gr))/500.0;di+=vec2(fbm2((pos+u_off)*500.0,0.0,gr),fbm2((pos+vec2(-1e3,1e3)+u_off)*500.0,0.0,gr))/10000.0;`+`vec4 brsh=texture2D(u_brsh,v_t+di*${ae(w)}+pof/vec2(${ae(e*w)},${ae(t*w)}));brsh.xyz=rtl(brsh.xyz*brsh.a+1.0-brsh.a);float a=smoothstep(-1.75,1.75,fbm6((pos+u_off)*2.0*u_sc,0.0,gr));brsh.x*=1.0+a*0.075;brsh.yz*=1.0-a*0.8;a=smoothstep(smoothstep(-0.5,0.3,fbm2((pos+u_off)*u_sc,0.0,gr))-0.5,0.51,fbm5((pos+u_off.yx)*2.0*u_sc,0.0,gr));brsh.x*=1.0+a*0.025;brsh.yz*=1.0-a*0.5;brsh.x*=1.0-(1.0-smoothstep(-0.45,-0.35,fbm5((pos+u_off.yx)*2.0*u_sc,0.0,gr)))*0.01;a=smoothstep(smoothstep(-0.5,0.3,fbm2((pos+u_off)*u_sc,0.0,gr))-0.5,0.51,fbm5((pos+u_off.yx)*4.0*u_sc,1.0,gr));brsh.x*=1.0+a*0.01;brsh.x*=1.0-(1.0-smoothstep(-0.45,-0.35,fbm5((pos+u_off.yx)*4.0*u_sc,1.0,gr)))*0.005;brsh.xyz=ltr(brsh.xyz);`+`fc+=brsh/${ae(oe)};}gl_FragColor=fc;}`)(ke,ze)),Ve=Z(V,Je,((e,t)=>se+ve("u_cvs")+ve("u_brsh")+"uniform vec2 u_off;uniform float u_sc;"+ce+fe+le+ie([1,2],[1,2])+ie([1,2,4,8],[1,2,4,8])+"void main(){vec4 fc=vec4(0.0,0.0,0.0,0.0);vec4 xof=vec4(1.0,3.0,-1.0,-3.0)/8.0;vec4 yof=vec4(xof.yzw,xof.x);vec2 gr;"+`for(int i=0;i<${oe};i++){vec2 pof=vec2(xof[i],yof[i]);`+`vec2 pos=(v_l+pof)/${ae(e)};`+`vec4 c=texture2D(u_cvs,v_t+pof/vec2(${ae(e)},${ae(t)}));c.xyz=rtl(c.rgb*c.a+1.0-c.a);float v=0.0;float s=0.157;float w=smoothstep(-1.0,0.8,fbm4((pos+u_off)*20.0*u_sc,0.0,gr))*0.8+0.2;for(float j=0.0;j<10.0;j++){`+`vec2 o=${ae(w)}*w*vec2(sin(j*s),cos(j*s))*2e-3/u_sc;for(int k=0;k<4;k++){`+`vec4 co=texture2D(u_cvs,v_t+o+pof/vec2(${ae(e)},${ae(t)}));v+=rtl(co.rgb*co.a+1.0-co.a).x;o=vec2(o.y,-o.x);}}v=smoothstep(0.001,0.015,v/40.0-c.x);float a=smoothstep(-0.5,-0.0,fbm2((pos+u_off)*10.0*u_sc,0.0,gr));c.x*=1.0-v*0.1*c.w*a;c.yz*=1.0+v*c.w*a;a=fbm4((pos+u_off)*75.0*u_sc,0.0,gr);c.x*=1.0-smoothstep(1.0,1.5,a)*0.1+smoothstep(0.0,2.0,a)*0.01;c.yz*=1.0+smoothstep(1.0,1.5,pow(a,1.0))*2.0;c.xyz=ltr(c.xyz);`+`fc+=c/${ae(oe)};}gl_FragColor=fc;}`)(ke,ze)),Ke=Z(V,Je,se+ve("u_cvs")+ve("u_brsh")+"void main(){vec4 bg=texture2D(u_cvs,v_t);vec4 pt=texture2D(u_brsh,v_t);float a=pt.a;pt.rgb=pt.rgb*pt.a+1.0-pt.a;pt.rgb*=bg.rgb*bg.a+1.0-bg.a;pt.a=1.0;gl_FragColor=pt;}"),Qe=Z(V,Je,ne),Xe=()=>{ee(V,Ne,Ie[0],null,Ue,J,I(-1e3,1e3),I(-1e3,1e3)),ee(V,Ve,Ie[1],Pe[0],null,null,I(-1e3,1e3),I(-1e3,1e3)),ee(V,Ke,Ie[2],Pe[3],Pe[1],null),te(V,Qe,Pe[2],Ie[3],null,0,0)},Ye=(()=>{let e=[];for(let t=10;140>t;t+=10)for(let r=10;100>r;r+=10)e.push([t+.5,r,0,0]);return e})(),Ze=(e=>{let t=[30,10,200][H],r=[],o=[];for(let a,c=0;c<t;c++)a=[be,Ce][S(1,[3,1])[0]](e,o),o=[...new Set(o)],r.push(a);let a=s(...r.map((e=>e.a)));return r=r.filter((e=>{let t=1==H||e.a==a||e.a<I()*I()*1e4;return t||e.p.forEach((e=>{e[2]--,e[3]--})),t})),r.filter((e=>1e3>e.a)).concat(r.filter((e=>1e3<=e.a)))})(Ye);((e,t,r,o,a,c,f)=>{e.forEach((e=>{var l;t.clearRect(0,0,r+m(),o+m()),d(t,ue[S(1,(l=u(ue)-1,Array(l).fill(1)))[0]+1]),e.d(t,a,!0),e.m&&he(t,c),e.d(c,a,!0),f()}))})(Ze,N,ke*w,ze*w,Te*w,mask,Xe),((e,t,r,o,a,c,f)=>{let l=M(ue.filter(((e,t)=>t))),i=[];if(0===R)i.push([[[1,1],[140,1],[140,99],[1,99]]]);else if(1==R){let[e,t,r]=1==H?[2,1,0]:[20,0,.1];for(let o=.5;o<=141.5-e;o+=e)for(let a=t;a<=100-e;a+=e){let[t,c,f,l]=[s(1,o+r),s(1,a+r),v(140,o-r+e),v(99,a-r+e)];i.push([[t,c],[f,c],[f,l],[t,l]])}i=M(i),i=[...function*(e,t){for(let r=0;r<e.length;r+=t)yield e.slice(r,r+t)}(i,1==H?100:1)]}else{let e=M([I()/2,.5+I()/2]);.5>I()?i.push([[[1,1],[1+139*e[0],1],[1+139*e[1],99],[1,99]]],[[[1+139*e[0],1],[140,1],[140,99],[1+139*e[1],99]]]):i.push([[[1,1],[140,1],[140,1+98*e[0]],[1,1+98*e[1]]]],[[[1,1+98*e[1]],[140,1+98*e[0]],[140,99],[1,99]]])}[r,o]=[r+m(),o+m()];let u=n(2).map((t=>{let a;return a=1==j?e.createLinearGradient(0,0,r,o):e.createRadialGradient(I()*r,I()*o,10,r/2,o/2,.71*r),a.addColorStop(0,l[t]),a.addColorStop(1,l[t+1]),a}));i.forEach(((t,i)=>{1==R&&(i=0),e.clearRect(0,0,r,o),t.forEach(((t,r)=>{ge(t,e,a,0==r,1)})),d(e,0===j?l[i]:u[i]),e.fill(),he(e,c),f()}))})(N,0,ke*w,ze*w,Te*w,mask,Xe),((e,t,r,o,a,c)=>{let f=m();d(r,"white"),r.fillRect(0,0,o+f,a+f),f/=2,x(r,"grey"),b(r,c/20),h(r),t.forEach((e=>{let[t,o]=e;r.moveTo(t*c+f,(o-.25)*c+f),r.lineTo(t*c+f,(o+.25)*c+f),r.moveTo((t-.25)*c+f,o*c+f),r.lineTo((t+.25)*c+f,o*c+f)})),L&&r.stroke(),x(r,"lightgrey"),U&&e.forEach((e=>e.d(r,c,!1,!0)))})(Ze,Ye,N,ke*w,ze*w,Te*w),ee(V,Ke,Ie[0],Pe[3],Ue,J),((e,r,o,a,c)=>{if(.05>I())return;let f=m();r.clearRect(0,0,o+f,a+f),e.reverse().forEach((e=>{x(r,ue[0]),b(r,c/10),r.lineJoin="round",e.d(r,c,!1)})),x(r,ue[0]),d(r,"white"),b(r,c/5),2==H||[...new Set([].concat.apply([],e.map((e=>e.p))))].forEach((e=>{1<e[2]&&(h(r),r.arc(e[0]*c+f/2,e[1]*c+f/2,c/2,0,t,!1),g(r),r.fill(),r.stroke())}))})(Ze,N,ke*w,ze*w,Te*w),ee(V,Ke,Ie[1],Pe[0],Ue,J),V.viewport(0,0,ke,ze),te(V,Qe,Pe[1],null,null,Ge,He),V.readPixels(0,0,1,1,6408,5121,new Uint8Array(4));
      }
      function generate() {
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        let interval = urlParams.get('interval');
        interval = interval ? parseInt(interval) : null;
        let background = urlParams.get('background');
        let hash = urlParams.get('hash');
        //generate a randomhash
        let h = "0x";
        for(var i = 0;i<64;++i){
            let n = parseInt(Math.floor(Math.random()*16));
            h+= n.toString(16);
        }
        let tokenData = {hash: hash ? hash : h, tokenId: 1000};
        if (background) {
          document.body.style.backgroundColor = background;
        }
        render_inprecision(tokenData);
        if (interval) {
          setTimeout(_ => generate(), interval * 1000);
        }
      }
      window.onload = _ => generate();
    </script>
  </body>
</html>
